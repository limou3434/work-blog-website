# 语法经验

> 本篇的语法经验并非基础语法介绍，而是笔者个人对部分语法的使用经验以及使用时遇到的坑，希望能够在开发上帮助他人不踩相同的坑。!!愿世上再无Error!!

> 如果您对基础语法不太了解或根本没有概念的话，可以先阅读 `基础介绍` 进行初步了解。在零基础的情况下 [菜鸟教程](https://www.runoob.com/csharp/csharp-tutorial.html) 、 [C语言中文网](https://c.biancheng.net/csharp/) 都是最好的引路人，基础不免有些枯燥，但是在看懂程序的那一刻相信都是有成就感的。

## 属性和字段

`属性` 和 `字段` 作为两个比较相似的概念，在笔者初学时一直有所混淆。!!~~不会有人用半天都搞不清吧？原来是我啊哈哈~~!!

首先，在 `属性` 和 `字段` 之前，要先知道变量是什么。`变量` 是一个特定的存储单元，它拥有着自定义的变量名称，可设置的变量值。

 ```c#
   public string test = "test string"
```

如上便是一个变量，`public` 是变量的适用范围的声明，`string` 是变量类型，`test` 是变量名，`"test string"` 是变量值。

而这个变量也可以被称作字段，是一个 `公共字段`，那字段和属性的区别是什么呢？按照笔者的理解简单来讲，`属性` 是一个可以在调用时，进行具体数据处理的变量，`字段` 是一个只可以改变值的变量。

举个例子，下面是同一个含义的 `字段` 和 `属性` ，都代表的是一个存放电话号码的方式。

**字段：**

 ```c#
   public string phone = "+86 123456789000"
```

**属性：**

 ```c#
    private string? _phone;

    public string? phone
    {
        // 可以省略，让属性作为只写
        get
        {
            if (_phone == null)
                return null;
            return _phone + "+86";
        }
        // 可以省略，让属性作为只读
        set
        {
            _phone = value;
        }
    }
```

这么一看 `属性` 要多写很多代码，但实际上在使用时，可以通过传入的字符串自动给电话号码添加前缀。而 `get` 中的处理完全可以根据需求进行编写，使用上来说，相比单一的 `字段` 赋值，`属性` 可以有更多的数据处理，可以让变量的处理更加统一。同样的 `set` 也可以自行数据处理。

一般来说 `属性` 不会单独出现，而是存在于实体类中，如下的用户实体类

 ```c#
 public class UserInfo
 {
    public string username {get; set;}
    
    private string? _phone;

    public string? phone
    {
        get
        {
            if (_phone == null)
                return null;
            return _phone + "+86";
        }
        set
        {
            _phone = value;
        }
    }

    public string nickname {get; set;}
 }
```

通过 `username`、`phone`、`nickname` 描述了 `UserInfo` 的属性，在使用时可以对每个 `属性` 赋值进行使用。区别于 `字段` 的赋值，实体类中的 `属性` 可以进行单独修改更加多样化。

就笔者个人使用体验而言，对于有着固定结构的数据，`属性` 可以非常简便的实现数据结构的复用。而 `字段` 一般会用于比较单一的变量，虽然字典类型也可以处理复杂的变量，但笔者个人认为带有 `属性` 的实体类可以更好的统一管理和扩展。

## 反射

待补充...

## 委托和事件

待补充...