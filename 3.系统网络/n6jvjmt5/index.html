<!doctype html><html lang="zh-CN"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.26" /><meta name="theme" content="VuePress Theme Plume 1.0.0-rc.184" /><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = um === 'dark' || (um !== 'light' && sm);document.documentElement.dataset.theme = isDark ? 'dark' : 'light';})();</script><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"伺服程序软件","image":[""],"dateModified":"2026-01-25T16:36:00.000Z","author":[]}</script><meta property="og:url" content="https://limou3434.github.io/work-blog-website/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/n6jvjmt5/"><meta property="og:site_name" content="缡墨"><meta property="og:title" content="伺服程序软件"><meta property="og:description" content="1.Nginx Nginx 是一款自由、开源、高性能的 HTTP 服务器和反向代理服务器（正向代理代理客户端，反向代理代理服务端）。同时也是 一个 IMAP, POP3, SMTP 代理服务器。Nginx 可以作为一个 HTTP 服务器进行网站 的发布处理，也可以作为反向代理进行负载均衡的实现，这里展示关于 Ubuntu 下 Nginx 的使用。 注意..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2026-01-25T16:36:00.000Z"><meta property="article:modified_time" content="2026-01-25T16:36:00.000Z"><link rel="icon" type="image/png" href="https://theme-plume.vuejs.press/favicon-32x32.png"><title>伺服程序软件 | 缡墨</title><meta name="description" content="1.Nginx Nginx 是一款自由、开源、高性能的 HTTP 服务器和反向代理服务器（正向代理代理客户端，反向代理代理服务端）。同时也是 一个 IMAP, POP3, SMTP 代理服务器。Nginx 可以作为一个 HTTP 服务器进行网站 的发布处理，也可以作为反向代理进行负载均衡的实现，这里展示关于 Ubuntu 下 Nginx 的使用。 注意..."><link rel="preload" href="/work-blog-website/assets/style-CVz0Ni7c.css" as="style"><link rel="stylesheet" href="/work-blog-website/assets/style-CVz0Ni7c.css"><link rel="modulepreload" href="/work-blog-website/assets/app-D7GzF563.js"><link rel="modulepreload" href="/work-blog-website/assets/index.html-DZDhY0px.js"></head><body><div id="app"><!--[--><!--[--><div class="theme-plume vp-layout" vp-container data-v-ea6c3a80><!--[--><!--[--><!--]--><!--[--><span tabindex="-1" data-v-17e3d305></span><a href="#VPContent" class="vp-skip-link visually-hidden" data-v-17e3d305> Skip to content </a><!--]--><!----><header class="vp-nav" data-v-ea6c3a80 data-v-59eaa6de><div class="vp-navbar" vp-navbar data-v-59eaa6de data-v-25617862><div class="wrapper" data-v-25617862><div class="container" data-v-25617862><div class="title" data-v-25617862><div class="vp-navbar-title has-sidebar" data-v-25617862 data-v-1a4f50af><a class="vp-link link no-icon title" href="/work-blog-website/" data-v-1a4f50af><!--[--><!--[--><!--]--><!--[--><!--[--><!--[--><img class="vp-image dark logo" style="" src="/work-blog-website/./logo.svg" alt data-v-b173f822><!--]--><!--[--><img class="vp-image light logo" style="" src="/work-blog-website/./logo.svg" alt data-v-b173f822><!--]--><!--]--><!--]--><span data-v-1a4f50af>缡墨</span><!--[--><!--]--><!--]--></a></div></div><div class="content" data-v-25617862><div class="content-body" data-v-25617862><!--[--><!--]--><div class="vp-navbar-search search" data-v-25617862><div class="search-wrapper" data-v-97535d1e><!----><div id="local-search" data-v-97535d1e><button type="button" class="mini-search mini-search-button" aria-label="搜索文档" data-v-97535d1e><span class="mini-search-button-container"><span class="mini-search-search-icon vpi-mini-search" aria-label="search icon"></span><span class="mini-search-button-placeholder">搜索文档</span></span><span class="mini-search-button-keys"><kbd class="mini-search-button-key"></kbd><kbd class="mini-search-button-key">K</kbd></span></button></div></div></div><!--[--><!--]--><nav aria-labelledby="main-nav-aria-label" class="vp-navbar-menu menu" data-v-25617862 data-v-d43c1732><span id="main-nav-aria-label" class="visually-hidden" data-v-d43c1732>Main Navigation</span><!--[--><!--[--><a class="vp-link link navbar-menu-link" href="/work-blog-website/" tabindex="0" data-v-d43c1732 data-v-d1bfac4a><!--[--><!----><span data-v-d1bfac4a>首页</span><span class="vp-badge info vp-menu-badge" style="" data-v-d1bfac4a data-v-863826d1><!--[-->v2.0.0<!--]--></span><!--]--></a><!--]--><!--[--><a class="vp-link link navbar-menu-link" href="/work-blog-website/friends/" tabindex="0" data-v-d43c1732 data-v-d1bfac4a><!--[--><!----><span data-v-d1bfac4a>友链</span><!----><!--]--></a><!--]--><!--[--><a class="vp-link link navbar-menu-link" href="/work-blog-website/blog/" tabindex="0" data-v-d43c1732 data-v-d1bfac4a><!--[--><!----><span data-v-d1bfac4a>博客</span><!----><!--]--></a><!--]--><!--[--><a class="vp-link link navbar-menu-link" href="/work-blog-website/book/" tabindex="0" data-v-d43c1732 data-v-d1bfac4a><!--[--><!----><span data-v-d1bfac4a>文档</span><!----><!--]--></a><!--]--><!--[--><div class="vp-flyout vp-navbar-menu-group" data-v-d43c1732 data-v-df44e5e2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-df44e5e2><span class="text" data-v-df44e5e2><!----><!----><span data-v-df44e5e2>开发修养</span><!----><span class="vpi-chevron-down text-icon" data-v-df44e5e2></span></span></button><div class="menu" data-v-df44e5e2><div class="vp-menu" data-v-df44e5e2 data-v-ce500c40><div class="items" data-v-ce500c40><!--[--><!--[--><div class="vp-menu-link" data-v-ce500c40 data-v-4cd00159><a class="vp-link link" href="/work-blog-website/1.%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" data-v-4cd00159><!--[--><!----> 编程语言 <!----><!--]--></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-ce500c40 data-v-4cd00159><a class="vp-link link" href="/work-blog-website/2.%E6%95%B0%E6%9E%84%E7%AE%97%E6%B3%95/" data-v-4cd00159><!--[--><!----> 数构算法 <!----><!--]--></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-ce500c40 data-v-4cd00159><a class="vp-link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/" data-v-4cd00159><!--[--><!----> 系统网络 <!----><!--]--></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-ce500c40 data-v-4cd00159><a class="vp-link link" href="/work-blog-website/4.%E4%B8%9A%E5%8A%A1%E6%9C%8D%E5%8A%A1/" data-v-4cd00159><!--[--><!----> 业务服务 <!----><!--]--></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-ce500c40 data-v-4cd00159><a class="vp-link link" href="/work-blog-website/5.%E5%BC%80%E5%8F%91%E6%96%B9%E5%90%91/" data-v-4cd00159><!--[--><!----> 开发方向 <!----><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="vp-flyout vp-navbar-menu-group" data-v-d43c1732 data-v-df44e5e2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-df44e5e2><span class="text" data-v-df44e5e2><!----><!----><span data-v-df44e5e2>艺术设计</span><!----><span class="vpi-chevron-down text-icon" data-v-df44e5e2></span></span></button><div class="menu" data-v-df44e5e2><div class="vp-menu" data-v-df44e5e2 data-v-ce500c40><div class="items" data-v-ce500c40><!--[--><!--[--><div class="vp-menu-link" data-v-ce500c40 data-v-4cd00159><a class="vp-link link" href="/work-blog-website/6.%E7%B4%A0%E6%9D%90%E5%A4%84%E7%90%86/" data-v-4cd00159><!--[--><!----> 素材处理 <!----><!--]--></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-ce500c40 data-v-4cd00159><a class="vp-link link" href="/work-blog-website/7.%E8%A7%86%E9%A2%91%E5%89%AA%E8%BE%91/" data-v-4cd00159><!--[--><!----> 视频剪辑 <!----><!--]--></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-ce500c40 data-v-4cd00159><a class="vp-link link" href="/work-blog-website/8.%E7%AB%8B%E4%BD%93%E5%BB%BA%E6%A8%A1/" data-v-4cd00159><!--[--><!----> 立体建模 <!----><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!--[--><!--]--><!----><div class="vp-navbar-appearance appearance" data-v-25617862 data-v-a295abf6><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-a295abf6 data-v-936ae0f2 data-v-7eb32327><span class="check" data-v-7eb32327><span class="icon" data-v-7eb32327><!--[--><span class="vpi-sun sun" data-v-936ae0f2></span><span class="vpi-moon moon" data-v-936ae0f2></span><!--]--></span></span></button></div><div class="vp-social-links vp-navbar-social-links social-links" data-v-25617862 data-v-ad52545c data-v-adbced0f><!--[--><a class="vp-social-link no-icon" href="898738804@qq.com" aria-label="qq" title="qq" target="_blank" rel="noopener" data-v-adbced0f data-v-fd1bf51d><!----></a><a class="vp-social-link no-icon" href="llimou3434@gmail.com" aria-label="gmail" title="gmail" target="_blank" rel="noopener" data-v-adbced0f data-v-fd1bf51d><!----></a><a class="vp-social-link no-icon" href="https://github.com/limou3434" aria-label="github" title="github" target="_blank" rel="noopener" data-v-adbced0f data-v-fd1bf51d><!----></a><a class="vp-social-link no-icon" href="https://hub.docker.com/repositories/limou3434" aria-label="docker" title="docker" target="_blank" rel="noopener" data-v-adbced0f data-v-fd1bf51d><!----></a><a class="vp-social-link no-icon" href="https://x.com/3434Limou97685" aria-label="twitter" title="twitter" target="_blank" rel="noopener" data-v-adbced0f data-v-fd1bf51d><!----></a><a class="vp-social-link no-icon" href="https://www.youtube.com/@3434limou" aria-label="youtube" title="youtube" target="_blank" rel="noopener" data-v-adbced0f data-v-fd1bf51d><!----></a><a class="vp-social-link no-icon" href="https://www.zhihu.com/people/limou3434" aria-label="zhihu" title="zhihu" target="_blank" rel="noopener" data-v-adbced0f data-v-fd1bf51d><!----></a><a class="vp-social-link no-icon" href="https://www.xiaohongshu.com/user/profile/62b85f3b000000001902b070" aria-label="xiaohongshu" title="xiaohongshu" target="_blank" rel="noopener" data-v-adbced0f data-v-fd1bf51d><!----></a><!--]--></div><div class="vp-flyout vp-navbar-extra extra" data-v-25617862 data-v-4632e16b data-v-df44e5e2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-df44e5e2><span class="vpi-more-horizontal icon" data-v-df44e5e2></span></button><div class="menu" data-v-df44e5e2><div class="vp-menu" data-v-df44e5e2 data-v-ce500c40><!----><!--[--><!--[--><!----><div class="group" data-v-4632e16b><div class="item appearance" data-v-4632e16b><p class="label" data-v-4632e16b>外观</p><div class="appearance-action" data-v-4632e16b><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-4632e16b data-v-936ae0f2 data-v-7eb32327><span class="check" data-v-7eb32327><span class="icon" data-v-7eb32327><!--[--><span class="vpi-sun sun" data-v-936ae0f2></span><span class="vpi-moon moon" data-v-936ae0f2></span><!--]--></span></span></button></div></div></div><div class="group" data-v-4632e16b><div class="item social-links" data-v-4632e16b><div class="vp-social-links social-links-list" data-v-4632e16b data-v-adbced0f><!--[--><a class="vp-social-link no-icon" href="898738804@qq.com" aria-label="qq" title="qq" target="_blank" rel="noopener" data-v-adbced0f data-v-fd1bf51d><!----></a><a class="vp-social-link no-icon" href="llimou3434@gmail.com" aria-label="gmail" title="gmail" target="_blank" rel="noopener" data-v-adbced0f data-v-fd1bf51d><!----></a><a class="vp-social-link no-icon" href="https://github.com/limou3434" aria-label="github" title="github" target="_blank" rel="noopener" data-v-adbced0f data-v-fd1bf51d><!----></a><a class="vp-social-link no-icon" href="https://hub.docker.com/repositories/limou3434" aria-label="docker" title="docker" target="_blank" rel="noopener" data-v-adbced0f data-v-fd1bf51d><!----></a><a class="vp-social-link no-icon" href="https://x.com/3434Limou97685" aria-label="twitter" title="twitter" target="_blank" rel="noopener" data-v-adbced0f data-v-fd1bf51d><!----></a><a class="vp-social-link no-icon" href="https://www.youtube.com/@3434limou" aria-label="youtube" title="youtube" target="_blank" rel="noopener" data-v-adbced0f data-v-fd1bf51d><!----></a><a class="vp-social-link no-icon" href="https://www.zhihu.com/people/limou3434" aria-label="zhihu" title="zhihu" target="_blank" rel="noopener" data-v-adbced0f data-v-fd1bf51d><!----></a><a class="vp-social-link no-icon" href="https://www.xiaohongshu.com/user/profile/62b85f3b000000001902b070" aria-label="xiaohongshu" title="xiaohongshu" target="_blank" rel="noopener" data-v-adbced0f data-v-fd1bf51d><!----></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="vp-navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-25617862 data-v-f00b45b2><span class="container" data-v-f00b45b2><span class="top" data-v-f00b45b2></span><span class="middle" data-v-f00b45b2></span><span class="bottom" data-v-f00b45b2></span></span></button></div></div></div></div><div class="divider" data-v-25617862><div class="divider-line" data-v-25617862></div></div></div><!----></header><div class="vp-local-nav reached-top" data-v-ea6c3a80 data-v-1ae3b739><button class="menu" aria-expanded="false" aria-controls="SidebarNav" data-v-1ae3b739><span class="vpi-align-left menu-icon" data-v-1ae3b739></span><span class="menu-text" data-v-1ae3b739>Menu</span></button><div class="vp-local-nav-outline-dropdown" style="--vp-vh:0px;" data-v-1ae3b739 data-v-3ef393bb><!----><!----></div></div><aside class="vp-sidebar" vp-sidebar data-v-ea6c3a80 data-v-b9167702><div class="curtain" data-v-b9167702></div><nav id="SidebarNav" class="nav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-b9167702><span id="sidebar-aria-label" class="visually-hidden" data-v-b9167702> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-6279c2df><section class="vp-sidebar-item sidebar-item level-0 collapsible is-link has-active" data-v-6279c2df data-v-78b02f59><div class="item" tabindex="0" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/506d2a69/" data-v-78b02f59><!--[--><h2 class="text" data-v-78b02f59><span data-v-78b02f59>基本操作</span><!----></h2><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-78b02f59><span class="vpi-chevron-right caret-icon" data-v-78b02f59></span></div></div><div data-v-78b02f59 data-v-78b02f59><div class="items" data-v-78b02f59><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/adbi3n98/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>先导课程</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/nhjpj7o1/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>基本指令</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/g4zmcmi0/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>权限管理</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/pp91tz2s/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>编辑器</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/82sbxlhl/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>编译器</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/k1fkvi3c/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>调试器</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/5txmd1gw/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>构建器</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/8ck0qm2i/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>软件管理</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/b1tyyzew/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>进度条程序</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/01ta8n80/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>脚本编程</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/okgrdzg4/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>进程基础</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/cpg60x70/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>环境变量</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/1vogsfkk/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>简易外核</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/spnggbc7/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>磁盘内存</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/4uilxc2v/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>进程通信</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/11ccm048/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>线程开发</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/25ehjxls/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>进程信号</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/z1wywjm1/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>常驻服务</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/2w24bhws/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>网络基础</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/v510ifxo/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>网络编程</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/u9tjrmxs/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>应用层</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/4q3wan58/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>传输层</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/dh22vht2/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>网络层</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/jxzz8513/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>链路层</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/aen10afj/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>物理层</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/7ecvjong/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>其他协议</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/gduhb6so/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>高级 IO</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/l4vcsl0a/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>网络配置</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/v3w6hfe3/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>URL 过程</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/tqi8br7j/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>网络应用演变</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/tgphl3fd/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>版本管理软件</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/xyzxfhq8/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>远程链接软件</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/3hoxlbkl/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>内网穿透软件</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/nl7c2cx1/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>服务管理软件</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/oqw8t109/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>终端优化软件</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/n6jvjmt5/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>伺服程序软件</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/tsuvkv27/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>项目部署软件</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/ukh43e1q/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>容器隔离软件</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/aj3d1vq7/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>集群管理软件</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/5567ctbx/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>现代指令软件</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/jr06k8rr/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>面板管理管理</span><!----></p><!--]--></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/article/v00lfhl2/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>虚拟主机</span><!----></p><!--]--></a><!----></div><!----></div><!--]--></div></div></section></div><div class="no-transition group" data-v-6279c2df><section class="vp-sidebar-item sidebar-item level-0 collapsible collapsed is-link" data-v-6279c2df data-v-78b02f59><div class="item" tabindex="0" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/0hz9q2i4/" data-v-78b02f59><!--[--><h2 class="text" data-v-78b02f59><span data-v-78b02f59>系统美化</span><!----></h2><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-78b02f59><span class="vpi-chevron-right caret-icon" data-v-78b02f59></span></div></div><div style="display:none;" data-v-78b02f59 data-v-78b02f59><div class="items" data-v-78b02f59><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/gpbv2qai/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>快速入门</span><!----></p><!--]--></a><!----></div><!----></div><!--]--></div></div></section></div><div class="no-transition group" data-v-6279c2df><section class="vp-sidebar-item sidebar-item level-0 collapsible collapsed is-link" data-v-6279c2df data-v-78b02f59><div class="item" tabindex="0" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/0roq2bmg/" data-v-78b02f59><!--[--><h2 class="text" data-v-78b02f59><span data-v-78b02f59>网络协议</span><!----></h2><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-78b02f59><span class="vpi-chevron-right caret-icon" data-v-78b02f59></span></div></div><div style="display:none;" data-v-78b02f59 data-v-78b02f59><div class="items" data-v-78b02f59><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/ajdrz4ir/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>快速入门</span><!----></p><!--]--></a><!----></div><!----></div><!--]--></div></div></section></div><div class="no-transition group" data-v-6279c2df><section class="vp-sidebar-item sidebar-item level-0 collapsible collapsed is-link" data-v-6279c2df data-v-78b02f59><div class="item" tabindex="0" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/aciri2lz/" data-v-78b02f59><!--[--><h2 class="text" data-v-78b02f59><span data-v-78b02f59>内核原理</span><!----></h2><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-78b02f59><span class="vpi-chevron-right caret-icon" data-v-78b02f59></span></div></div><div style="display:none;" data-v-78b02f59 data-v-78b02f59><div class="items" data-v-78b02f59><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-78b02f59 data-v-78b02f59><div class="item" data-v-78b02f59><div class="indicator" data-v-78b02f59></div><!----><a class="vp-link link link" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/thj4wqx0/" data-v-78b02f59><!--[--><p class="text" data-v-78b02f59><span data-v-78b02f59>内核启动</span><!----></p><!--]--></a><!----></div><!----></div><!--]--></div></div></section></div><!--]--><!--[--><!--]--></nav></aside><!--[--><div id="VPContent" vp-content class="vp-content has-sidebar" data-v-ea6c3a80 data-v-b7a5cb01><div class="vp-doc-container has-sidebar has-aside" data-v-b7a5cb01 data-v-fb4edded><!--[--><!--]--><div class="container" data-v-fb4edded><div class="aside" vp-outline data-v-fb4edded><div class="aside-curtain" data-v-fb4edded></div><div class="aside-container" data-v-fb4edded><div class="aside-content" data-v-fb4edded><div class="vp-doc-aside" data-v-fb4edded data-v-5976474c><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="vp-doc-aside-outline" role="navigation" data-v-5976474c data-v-aa56eba0><div class="content" data-v-aa56eba0><div class="outline-marker" data-v-aa56eba0></div><div id="doc-outline-aria-label" aria-level="2" class="outline-title" role="heading" data-v-aa56eba0><span data-v-aa56eba0>此页内容</span><span class="vpi-print icon" data-v-aa56eba0></span></div><ul class="root" data-v-aa56eba0 data-v-4e762ff7><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-5976474c></div><!--[--><!--]--></div></div></div></div><div class="content" data-v-fb4edded><div class="content-container" data-v-fb4edded><!--[--><!--]--><main class="main" data-v-fb4edded><nav class="vp-breadcrumb" data-v-fb4edded data-v-50d2ef24><ol vocab="https://schema.org/" typeof="BreadcrumbList" data-v-50d2ef24><!--[--><li property="itemListElement" typeof="ListItem" data-v-50d2ef24><a class="vp-link link no-icon breadcrumb" href="/work-blog-website/" property="item" typeof="WebPage" data-v-50d2ef24><!--[-->首页<!--]--></a><span class="vpi-chevron-right" data-v-50d2ef24></span><meta property="name" content="首页" data-v-50d2ef24><meta property="position" content="1" data-v-50d2ef24></li><li property="itemListElement" typeof="ListItem" data-v-50d2ef24><a class="vp-link link no-icon breadcrumb" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/" property="item" typeof="WebPage" data-v-50d2ef24><!--[-->系统网络<!--]--></a><span class="vpi-chevron-right" data-v-50d2ef24></span><meta property="name" content="系统网络" data-v-50d2ef24><meta property="position" content="2" data-v-50d2ef24></li><li property="itemListElement" typeof="ListItem" data-v-50d2ef24><a class="vp-link link no-icon breadcrumb" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/506d2a69/" property="item" typeof="WebPage" data-v-50d2ef24><!--[-->基本操作<!--]--></a><span class="vpi-chevron-right" data-v-50d2ef24></span><meta property="name" content="基本操作" data-v-50d2ef24><meta property="position" content="3" data-v-50d2ef24></li><li property="itemListElement" typeof="ListItem" data-v-50d2ef24><a class="vp-link link no-icon breadcrumb current" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/n6jvjmt5/" property="item" typeof="WebPage" data-v-50d2ef24><!--[-->伺服程序软件<!--]--></a><!----><meta property="name" content="伺服程序软件" data-v-50d2ef24><meta property="position" content="4" data-v-50d2ef24></li><!--]--></ol></nav><!--[--><!--]--><!--[--><div class="vp-doc-title" data-v-1221a74e><!--[--><!--]--><h1 class="page-title" data-v-1221a74e><!----> 伺服程序软件 <!----></h1><!--[--><!--]--></div><div class="vp-doc-meta" data-v-1221a74e><!--[--><!--]--><p class="reading-time" data-v-1221a74e><span class="vpi-books icon" data-v-1221a74e></span><span data-v-1221a74e>约 6940 字</span><span data-v-1221a74e>大约 23 分钟</span></p><!----><!--[--><!--]--><p class="create-time" data-v-1221a74e><span class="vpi-clock icon" data-v-1221a74e></span><span data-v-1221a74e>2025-04-09</span></p></div><!--]--><!--[--><!--]--><!--[--><div class="_3_%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C_n6jvjmt5_ external-link-icon-enabled vp-doc plume-content" vp-content data-v-fb4edded><!--[--><!--]--><div data-v-fb4edded><h1 id="_1-nginx" tabindex="-1"><a class="header-anchor" href="#_1-nginx"><span>1.Nginx</span></a></h1><p><code>Nginx</code> 是一款自由、开源、高性能的 <code>HTTP</code> 服务器和反向代理服务器（正向代理代理客户端，反向代理代理服务端）。同时也是 一个 <code>IMAP, POP3, SMTP</code> 代理服务器。<code>Nginx</code> 可以作为一个 <code>HTTP</code> 服务器进行网站 的发布处理，也可以作为反向代理进行负载均衡的实现，这里展示关于 <code>Ubuntu</code> 下 <code>Nginx</code> 的使用。</p><div class="hint-container warning"><p class="hint-container-title">注意</p><p>注意：下列部分指令可能需要使用 <code>sudo</code> 权限，建议您全程带上 <code>sudo</code> 提升权限。</p></div><h2 id="_1-1-nginx-的安装启动" tabindex="-1"><a class="header-anchor" href="#_1-1-nginx-的安装启动"><span>1.1.Nginx 的安装启动</span></a></h2><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 安装和启动</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 安装 Nginx</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">apt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> nginx</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -y</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 修改配置</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> vim</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/nginx/sites-available/default</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> cat</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/nginx/sites-available/default</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">server</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        listen</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 80</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> default_server</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 修改为自己服务器上开放的端口号</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        listen</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [::]:80 default_server</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        server_name</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 填您自己服务器的</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ip</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 地址</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 修改自己服务器的 ip 地址</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        root</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /usr/share/nginx/html</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 填写需要交给 nginx 托管的文件根目录</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        </span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        index</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> index.html</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> index.htm</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> index.nginx-debian.html</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        location</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">                try_files</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> $uri</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> $uri</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">404</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        }</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 启动 Nginx</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> start</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> nginx</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">root@alyubuntu cpu: 6.5% mem: 21.45% - </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">~</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> $ sudo systemctl status nginx</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">●</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> nginx.service</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> A</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> high</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> performance</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> web</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> server</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> and</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> a</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> reverse</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> proxy</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> server</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">     Loaded:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> loaded</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (/lib/systemd/system/nginx.service</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> enabled</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> vendor</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> preset:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> enabled</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">     Active:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> active</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (running) since Thu 2024-09-05 12:25:46 CST</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> 6s</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ago</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">       Docs:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> man:nginx</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">8</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    Process:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 476705</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ExecStartPre=/usr/sbin/nginx</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -t</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -q</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -g</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> daemon</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> on</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> master_process</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> on</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">code</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">exited,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> status</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    Process:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 476706</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ExecStart=/usr/sbin/nginx</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -g</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> daemon</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> on</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> master_process</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> on</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">code</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">exited,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> status</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">0/SUCCESS</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">   Main</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> PID:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 476707</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (nginx</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">      Tasks:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 3</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (limit: </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">4202</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">     Memory:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 3.3M</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        CPU:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 22ms</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">     CGroup:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /system.slice/nginx.service</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">             ├─476707</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">nginx: master process /usr/sbin/nginx -g daemon on; master_process on;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">             ├─476708</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">nginx: worker process</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">             └─476709</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">nginx: worker process</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Sep</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 05</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 12:25:46</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> alyubuntu</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> systemd[1]:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Starting</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> A</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> high</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> performance</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> web</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> server</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> and</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> a</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> reverse</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> proxy</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> server...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Sep</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 05</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 12:25:46</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> alyubuntu</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> systemd[1]:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Started</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> A</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> high</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> performance</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> web</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> server</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> and</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> a</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> reverse</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> proxy</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> server.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后就可以在浏览器中直接访问您的服务器。</p><figure><img src="/work-blog-website/assets/image-20240905134123295-CFlsBMOB.png" alt="image-20240905134123295.png" tabindex="0" loading="lazy"><figcaption>image-20240905134123295.png</figcaption></figure><h2 id="_1-2-nginx-的相关查看" tabindex="-1"><a class="header-anchor" href="#_1-2-nginx-的相关查看"><span>1.2.Nginx 的相关查看</span></a></h2><h3 id="_1-2-1-配置目录" tabindex="-1"><a class="header-anchor" href="#_1-2-1-配置目录"><span>1.2.1.配置目录</span></a></h3><p>上面我们简单配置了一个 <code>Nginx</code> 的配置文件，这里我们来深入学习这些配置语法，<a href="https://nginx.org/en/docs/" target="_blank" rel="noopener noreferrer">相关的资料可以在 Nginx 官方文档中寻找</a>，这里我们 <a href="https://nginx.org/en/docs/beginners_guide.html" target="_blank" rel="noopener noreferrer">跟着 Nginx 的新手教程来学习语法</a> 即可。</p><p><code>Nginx</code> 文档里写的非常清楚，<code>Nginx</code> 由一个主进程和多个工作进程构成，内部采用事件驱动模型，什么叫事件驱动？这里其实就是指使用了多路转接的 <code>IO</code> 处理机制，也就是 <code>epoll()</code> 等接口。</p><p>知道大致的原理后，我们要添加配置或修改配置，应该知道配置文件的地址在哪里叭？</p><p><code>Nginx</code> 及其模块的工作方式在配置文件中确定。默认情况下，配置文件名为 <code>nginx.conf</code> ，并放置在目录 <code>/usr/local/nginx/conf/</code> 或 <code>/etc/nginx/</code> 或 <code>/usr/local/etc/nginx/</code> 中。在我的 <code>Ubuntu20</code> 服务器中，这个目录就在 <code>/etc/nginx/</code> 下，我们就在这个目录下进行展开。</p><ul><li><code>/etc/nginx/sites-available/ (可用的服务)</code> 存放各个服务的配置文件</li><li><code>/etc/nginx/sites-enabled/ (启用的服务)</code> 存放上一个目录中文件对应的符号链接</li></ul><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 查看两个目录的内容</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> tree</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sites-available</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sites-available</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">└──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> default</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> tree</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sites-enabled</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sites-enabled</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">└──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> default</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> -</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/nginx/sites-available/default</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">0</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> directories,</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> file</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>/etc/nginx/sites-available/default</code> 是 <code>Nginx</code> 服务器的配置文件目录中的一个默认配置文件，这个文件提供一个默认的服务器配置，当您第一次安装 <code>Nginx</code> 时，它通常会自动生成并作为示例或模板，我们刚刚配置的就是这个文件。</p><p>为什么需要做一层链接隔离？主要是方便一些项目的快速启停部署，并且 <code>Nginx</code> 配置文件中有一个 <code>include</code> 指令，这个指令允许 <code>Nginx</code> 的配置文件进行模块化配置，将不同的虚拟主机放入同一个主 <code>Nging</code> 配置文件中进行统一管理（比如统一管理日志文件输出目录，除非个别主机做了个性化处理，因此 <code>Nginx</code> 其实也是有局部配置有限的概念的），在主配置文件中有以下这段代码。</p><div class="language-nginx line-numbers-mode" data-highlighter="shiki" data-ext="nginx" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-nginx"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 查看主配置文件中的 include 行的内容</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">$ </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">cat</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> nginx.conf | grep include</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">include </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/etc/nginx/modules-enabled/*.conf</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        include </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/etc/nginx/mime.types</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 这里都是一些 MIME 类型的映射</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        include </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/etc/nginx/conf.d/*.conf</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 这里是一些 Nginx 的其他一些被拆分的配置</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        include </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/etc/nginx/sites-enabled/*</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 重点看这里, 包含了我们需要启动的软链接</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这样主配置就可以加载软连接对应的配置文件模块，部署多个服务。</p><div class="hint-container important"><p class="hint-container-title">重要</p><p>补充：不过比较新版本的 <code>Nginx</code> 可以直接把配置文件放到 <code>/etc/nginx/conf.d/</code> 中，这样配置更加简单并且也方便，另外，这也是最通用方法，有的操作系统在不同版本下可能只有这一种设置方式。至于为什么会有两种配置，我找到 <a href="https://www.baeldung.com/linux/sites-available-sites-enabled-conf-d#header-318" target="_blank" rel="noopener noreferrer">一篇不算特别官方的文章</a>，还有 <a href="https://www.sunzhongwei.com/nginx-configuration-file-to-put-more-good-which-directories-sites-availableenabled-and-conf-d?from=random" target="_blank" rel="noopener noreferrer">另外一篇个人博文</a>，以及 <a href="https://serverfault.com/questions/527630/difference-in-sites-available-vs-sites-enabled-vs-conf-d-directories-nginx" target="_blank" rel="noopener noreferrer">serverfault 上的讨论</a>，但是我觉得确实是有点道理的，有时间我看看文档验证一下。不过貌似最佳实践是使用 <code>/etc/nginx/conf.d/</code>，不过我觉得您两者都能理解是最好的。</p></div><h3 id="_1-2-2-日志目录" tabindex="-1"><a class="header-anchor" href="#_1-2-2-日志目录"><span>1.2.2.日志目录</span></a></h3><p>访问日志通常位于 <code>/var/log/nginx/access.log</code>，而错误日志通常位于 <code>/var/log/nginx/error.log</code>。</p><h2 id="_1-3-nginx-的具体操作" tabindex="-1"><a class="header-anchor" href="#_1-3-nginx-的具体操作"><span>1.3.Nginx 的具体操作</span></a></h2><p>要启动 <code>Nginx</code>，请运行 <code>nginx</code> 可执行文件，也就是 <code>nginx</code> 这个指令（不过上面我们使用的是 <code>systemd</code> 来进行托管的）。一旦 <code>nginx</code> 启动，可以通过调用带有 <code>-s</code> 参数的可执行文件来控制它。</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Nginx 的内部指令</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> nginx</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -s</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">signa</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">l</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 信号可以是以下之一</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 直接使用 nginx 什么都不带就按默认配置进行启动</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># stop — 快速关闭</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># quit — 优雅关闭</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># reload — 重新加载配置文件, 这个过程中主进程会启动新的工作进程, 并向旧的工作进程发送消息, 请求它们关闭。否则主进程会回滚更改, 并继续使用旧的配置</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># reopen — 重新打开日志文件</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container important"><p class="hint-container-title">重要</p><p>补充：还有一个常用指令就是 <code>sudo nginx -t</code> 可以检查配置文件是否存在语法问题，这个后面会用到。</p></div><h2 id="_1-4-nginx-的配置结构" tabindex="-1"><a class="header-anchor" href="#_1-4-nginx-的配置结构"><span>1.4.Nginx 的配置结构</span></a></h2><p><code>Nginx</code> 配置文件由模块组成，这些模块由配置文件中指定的指令来控制。指令又分为简单指令和块指令。</p><ul><li>简单指令由名称和用空格分隔的参数组成，并以分号 <code>;</code> 作为结束</li><li>块指令的结构则以一组大括号 <code>{</code> 和 <code>}</code> 包围作为结束。如果块指令可以在大括号内包含其他指令，则可以被称为上下文</li></ul><p>而在 <code>Nginx</code> 中，在 <code>#</code> 符号之后的其余部分被视为注释。</p><h2 id="_1-5-nginx-的主要用途" tabindex="-1"><a class="header-anchor" href="#_1-5-nginx-的主要用途"><span>1.5.Nginx 的主要用途</span></a></h2><h3 id="_1-5-1-nginx-的静态网站部署" tabindex="-1"><a class="header-anchor" href="#_1-5-1-nginx-的静态网站部署"><span>1.5.1.Nginx 的静态网站部署</span></a></h3><p>一个重要的 <code>web</code> 服务器任务是提供文件（例如图像或静态 <code>HTML</code> 页面）。您将实现一个示例，根据请求，从不同的本地目录提供文件 <code>/data/www</code> （<code>HTML</code> 文件）和 <code>/data/images</code> （包含图像）。这将需要编辑配置文件，并在 <code>http</code> 块内设置一个服务器块，包含两个目录地址。</p><p>首先，创建 <code>~/data/www</code> 目录并将一个 <code>index.html</code> 文件放入其中，文件内容可以是任意文本，然后创建 <code>~/data/images</code> 目录并在其中放置一些图片。</p><div class="language-html line-numbers-mode" data-highlighter="shiki" data-ext="html" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-html"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">&lt;!-- index.html --&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;!</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">DOCTYPE</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> html</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">html</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> lang</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">en</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">head</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">meta</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> charset</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">UTF-8</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">meta</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">viewport</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> content</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">width=device-width, initial-scale=1.0</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">title</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">Test Page</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">title</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">style</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        body</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">            font-family</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> Arial</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> sans-serif</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">            background-color</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> #</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">f4f4f4</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">            text-align</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> center</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">            padding</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 50</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">px</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        }</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        h1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">            color</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> #</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">333</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        }</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        p</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">            color</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> #</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">666</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        .</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">container</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">            background-color</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> white</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">            padding</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 20</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">px</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">            border-radius</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 8</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">px</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">            box-shadow</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 10</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">px</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> rgba</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0.1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">            display</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> inline-block</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    &lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">style</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">head</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">body</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">div</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> class</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">container</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">h1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">Welcome to Nginx</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">h1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">p</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">This is a simple test page to verify that Nginx is working correctly.</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">p</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">p</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">If you are seeing this page, your server is configured correctly!</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">p</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    &lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">div</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">body</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">&lt;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">html</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>图片就放两张图片，分别命名为 <code>image1.jpg</code> 和 <code>image2.jpg</code> 再上传到服务器中。</p><p>接下来，打开配置文件，默认配置文件已经包含了几个 <code>server</code> 块的示例，大多数是被注释掉的。现在将所有这些块注释掉，并开始一个新的 <code>server</code> 块。</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 编写配置文件</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">http</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    server</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    }</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>通常配置文件可能包含几个由监听端口和服务器名称区分的 <code>server</code> 块（<code>server</code> 块可以看作是一台虚拟服务器主机），将以下 <code>location</code> 块添加到 <code>server</code> 块中。</p><div class="language-nginx line-numbers-mode" data-highlighter="shiki" data-ext="nginx" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-nginx"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 编写配置文件</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">server</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    # 配置 html 静态目录</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    location</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> / </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">{ </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 所有以 / 开头的请求都被映射到 ~/data/www/ 目录中</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        root </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/home/用户名/data/www</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    # 配置 image 静态目录</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    location</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> /images/ </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">{ </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 所有以 /images 开头的请求都被映射到 ~/data/images 目录中</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        root </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/home/用户名/data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    }</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>官网是这么直接进行配置，但是这个配置太过于简单，我们加一点料：</p><ul><li>修改默认绑定的 <code>ip</code> 和默认指定的 <code>port</code></li><li>修改不同错误码对应的响应网页</li><li>指定日志输出位置</li></ul><div class="language-nginx line-numbers-mode" data-highlighter="shiki" data-ext="nginx" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-nginx"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 编写配置文件</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">server</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    # 绑定的 ip 和 port</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    listen </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">您的开放port</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    server_name </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">您的公网ip</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 这里甚至可以配置域名(但是必须经过 DNS 解析)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    # 配置 html 静态目录</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    location</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> / </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">{ </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 所有以 / 开头的请求都被映射到 ~/data/www/ 目录中</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        root </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/home/用户名/data/www</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    # 配置 image 静态目录</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    location</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> /images/ </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">{ </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 所有以 /images 开头的请求都被映射到 ~/data/images 目录中</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        root </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/home/用户名/data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    # 错误页面的配置</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    error_page </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">404</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> /home/用户名/data/www/404.html</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    error_page </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">500</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 502</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 503</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 504</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> /home/用户名/data/www/50x.html</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    # 这里的 location = 表示精准匹配    </span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    location</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> =</span><span style="--shiki-light:#AB5E3F;--shiki-dark:#C4704F;"> /404.html </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">{</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        internal</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 设置 internal 可以确保上述路由只供 nginx 内部使用, 不会被用户直接访问(内部发生错误时才允许这些页面被用户看到)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    # 这里的 location = 表示精准匹配    </span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    location</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> =</span><span style="--shiki-light:#AB5E3F;--shiki-dark:#C4704F;"> /50x.html </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">{</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        internal</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 设置 internal 可以确保上述路由只供 nginx 内部使用, 不会被用户直接访问(内部发生错误时才允许这些页面被用户看到)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    }</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    </span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    # 配置访问日志</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    access_log </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/home/用户名/data/www/access.log</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    # 配置错误日志</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    error_log </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/home/用户名/data/www/error.log</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后我们根据上述的文件模板，生成两份实际的配置文件，注意是两份，我希望教您配置一个 <code>Nginx</code> 部署多个服务（注意两个文件内的路径都需要填写具体的用户名，并且设置不同的端口，<code>ip</code> 可以填写为 <code>_</code> 表示允许任意人访问）。这两个文件 <code>test1.conf</code> 和 <code>test2.conf</code> 就配置到我们之前说的配置目录 <code>sites-available</code> 下吧，并且在 <code>sites-enabled</code> 中做个软连接。</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 开始部署多个虚拟主机</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 根据上述模板配置两个配置文件</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> cd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/nginx</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> vim</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> test1.conf</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> vim</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> test2.conf</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 创建符号链接</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ln</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -s</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/nginx/sites-available/test1.conf</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/nginx/sites-enabled/test1.conf</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ln</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -s</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/nginx/sites-available/test2.conf</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/nginx/sites-enabled/test2.conf</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 检查上述的创建结果</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> cd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ..</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> tree</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sites-available</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sites-available</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">├──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> default</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">├──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> test1.conf</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">└──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> test2.conf</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">0</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> directories,</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 3</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> files</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> tree</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sites-enabled</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sites-enabled</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">├──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> default</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> -</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/nginx/sites-available/default</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">├──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> test1.conf</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> -</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/nginx/sites-available/test1.conf</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">└──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> test2.conf</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> -</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/nginx/sites-available/test2.conf</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">0</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> directories,</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 3</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> files</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 检查服务器上是否有对应的实际资源</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> cd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /home/您的用户名/data/www</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ls</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">image1.jpg</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  image2.jpg</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  index.html</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 确保 Nginx 有权限访问该目录</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> chmod</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 744</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /home/ljp/data/www/</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">*</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 修改启动用户, Nginx 默认的启动用户是 www-data, 这里修改配置为 root 比较简单点(理论上也可以直接使用该用户来启动 Nginx 的配置, 我没有试过, 您可以尝试一下, 毕竟这是一个 Nginx 下载的时候自动配置的账号)</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> cd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/nginx</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> head</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -n</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/nginx/nginx.conf</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># user www-data; # 注释掉这个用户</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">user</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> root</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 更换启动用户为 root</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 检查配置文件是否存在语法错误</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> nginx</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -t</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">nginx:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> the</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> configuration</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> file</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/nginx/nginx.conf</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> syntax</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> is</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ok</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">nginx:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> configuration</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> file</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/nginx/nginx.conf</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> test</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> is</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> successful</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 配置文件中定义的日志文件无需创建, Nginx 会自动帮您创建好</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 重新启动 Nginx</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restart</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> nginx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后再使用浏览器进行查看，看看我们简单部署的 <code>index.html</code> 以及两张图片是否可以被访问。</p><div class="hint-container important"><p class="hint-container-title">重要</p><p>补充：如果您是 <code>Centos</code> 一类的系统，并且查看错误日志出现权限问题，有可能是关于 <code>SELinux </code> 的问题，您可以 <a href="https://stackoverflow.com/questions/31729212/nginx-root-index-html-forbidden-13-permission-denied" target="_blank" rel="noopener noreferrer">前往 stackoverflow 查看大家的讨论解决这个问题</a>。若以上的解法均不可，则可以 <a href="https://blog.csdn.net/onlysunnyboy/article/details/75270533" target="_blank" rel="noopener noreferrer">考虑看这一篇 csdn 博客的四种解法来解决</a>（我这里使用的就是里面的第一种解法）。</p></div><figure><img src="/work-blog-website/assets/image-20240905204226096-FUA613NV.png" alt="image-20240905204226096" tabindex="0" loading="lazy"><figcaption>image-20240905204226096</figcaption></figure><figure><img src="/work-blog-website/assets/image-20240905204258689-BJVD0UkZ.png" alt="image-20240905204258689" tabindex="0" loading="lazy"><figcaption>image-20240905204258689</figcaption></figure><figure><img src="/work-blog-website/assets/image-20240905205206492-CbIsgpli.png" alt="image-20240905205206492" tabindex="0" loading="lazy"><figcaption>image-20240905205206492</figcaption></figure><figure><img src="/work-blog-website/assets/image-20240905205251586-C47DlFuE.png" alt="image-20240905205251586" tabindex="0" loading="lazy"><figcaption>image-20240905205251586</figcaption></figure><div class="hint-container note"><p class="hint-container-title">注</p><p>吐槽：另外，如果您传递的 <code>.jpg</code> 文件比较大，并且再仔细一点，就可以很明显看到一个现象，先请求的照片要优先被渲染，另外一张照片需要等待另外一张照片彻底渲染完毕后才可以进行渲染，我不太清楚这个是不是 <code>Nginx</code> 的多路转接造成的，以后再研究叭...</p></div><div class="hint-container important"><p class="hint-container-title">重要</p><p>补充：如果您用过某些镜像网站，则会遇到下面这种资源页面，我写了一个类似的配置文件供您参考。下面的配置文件，配置了一个叫做 <code>taidiyun</code> 的项目网站，是我给 <code>10.41.1.3</code> 服务器中的 <code>lpx</code> 用户进行配置的。</p><div class="language-nginx line-numbers-mode" data-highlighter="shiki" data-ext="nginx" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-nginx"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 配置资源静态网站, 并且配置一些 ip 屏蔽的配置</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">server</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> listen </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">8010</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> server_name </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">10.41.1.3</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> autoindex on</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 启用目录列表</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> allow </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">10.41.128.57</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 添加允许的 IP 10.41.128.57</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> deny </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">10.0.0.0/8</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 屏蔽 10 开头的 IP 段(deny all 则可以屏蔽所有其他访问)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> charset </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">utf-8</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 保持终端字符集和这里一样即可(避免浏览器放回乱码)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 配置 html 静态目录, 使用 &quot;/&quot; 或者 &quot;/taidiyun&quot; 都可以访问静态资源</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> location</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> / </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">{</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">     root </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/home/lpx/taidiyun</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> location</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> /taidiyun </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">{</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">     root </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/home/lpx</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 重定向日志文件</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> access_log </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/home/lpx/access.log</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> error_log </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/home/lpx/error.log</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这是一个最小示例，很多资源网站都是这么做的。</p></div><h3 id="_1-5-2-nginx-的代理服务部署" tabindex="-1"><a class="header-anchor" href="#_1-5-2-nginx-的代理服务部署"><span>1.5.2.Nginx 的代理服务部署</span></a></h3><p>只是配置静态网站的话，那么 <code>Nginx</code> 就会显得比较普通，实际上成为反向代理服务器才是 <code>Nginx</code> 最为出名的地方。这意味着客户端程序将请求先传递给被代理的服务器程序 <code>Nginx</code>，然后由代理服务器程序 <code>Nginx</code> 转交给真正的服务器程序，<code>Nginx</code> 从中获取响应后转发给客户端程序。</p><p>直接另起一个配置文件，把 <code>Nginx</code> 代理服务器的配置放入其中，我还特意准备了两台实际的服务器来做测试，一台是 <code>Ubuntu20(代理服务器)</code>，另外一台是 <code>Centos7(实际服务器)</code>。</p><p>从之前的经验来看，我们使用类似方式编写配置文件，并且将配置文件和对应软连接放到之前提到德两个目录中即可。不过由于我们是做代理服务器，因此还会添加一些还没怎么提及过的指令，这些指令会在注释中提及。</p><div class="language-nginx line-numbers-mode" data-highlighter="shiki" data-ext="nginx" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-nginx"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># proxy_server.conf(代理服务器)</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">server</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    listen </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">8086</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    server_name </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">您代理服务器自己的公网ip</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    location</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> / </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">{</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        proxy_pass </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">http://实际服务器ip:8087/</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # proxy_pass 其实就是把请求转发给别的服务器</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    location</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> /test1 </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">{</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        proxy_pass </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">http://127.0.0.1:8088/</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 代理之前配置的静态项目</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    }</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    </span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    location</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> /test2 </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">{</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        proxy_pass </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">http://127.0.0.1:8089/</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 代理之前配置的静态项目</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    }</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">} </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 整个配置文件相对于代理了三台服务器, 不过实际只是代理了一个远端服务器, 另外两个都是本地的</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>而我们的实际服务器采用 <code>Node.js</code> 来进行编写，这样编写的成本比较低，为了减少您的安装环境，您只需要使用 <code>sudo yum install node</code> 即可，然后使用 <code>node server.js</code> 即可运行实际服务器代码。</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-js"><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> http</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> require</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">http</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> proxyIp</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">填写您的代理服务器ip</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> // 允许的代理服务器 IP 地址</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> host</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">0.0.0.0</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> // 监听所有网络接口</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> port</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 8087</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> server</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> http</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">createServer</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">((</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">req</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> res</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> clientIp</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> req</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">connection</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">remoteAddress</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">clientIp</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> !==</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> proxyIp</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> // 如果请求的 ip 不是代理服务器就拒绝请求</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">        res</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">writeHead</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">403</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Content-Type</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">text/plain</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">});</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">        res</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">end</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Forbidden</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\n</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        return</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    res</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">writeHead</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">200</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Content-Type</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">text/plain</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">});</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    res</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">end</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Hello</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\n</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">server</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">listen</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">port</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> host</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> ()</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    console</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">log</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">`</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Server running at http://</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">${</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">host</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">${</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">port</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">`</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">server</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">on</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">error</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">err</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    console</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">error</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Server error:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> err</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>好了，该有的都有了，打开两个服务器开始进行配置，先配置代理服务器叭~</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 代理服务器</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> vim</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/nginx/sites-available/proxy_server.conf</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ln</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -s</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/nginx/sites-available/proxy_server.conf</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/nginx/sites-enabled/proxy_server.conf</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> tree</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/nginx/sites-available</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/nginx/sites-enabled</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">/etc/nginx/sites-available</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">├──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> default</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">├──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> proxy_server.conf</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">├──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> test1.conf</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">└──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> test2.conf</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">/etc/nginx/sites-enabled</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">├──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> default</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> -</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/nginx/sites-available/default</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">├──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> proxy_server.conf</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> -</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/nginx/sites-available/proxy_server.conf</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">├──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> test1.conf</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> -</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/nginx/sites-available/test1.conf</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">└──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> test2.conf</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> -</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/nginx/sites-available/test2.conf</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 确保 Nginx 有权限访问该目录</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> chmod</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 744</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /home/ljp/data/www/</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">*</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 确认启动用户为 root 而不是 Nginx 默认的启动用户 www-data</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> head</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -n</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/nginx/nginx.conf</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># user www-data; # 注释掉这个用户</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">user</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> root</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 更换启动用户为 root</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 检查配置文件是否存在语法错误</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> nginx</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -t</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">nginx:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> the</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> configuration</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> file</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/nginx/nginx.conf</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> syntax</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> is</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ok</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">nginx:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> configuration</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> file</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/nginx/nginx.conf</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> test</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> is</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> successful</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 配置文件中定义的日志文件无需创建, Nginx 会自动帮您创建好</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 重新启动 Nginx</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restart</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> nginx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 实际服务器</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Centos7 的防火墙不是使用 ufw, 这里我给您留一个快速指引, 避免您去查阅某些文档的时间 hhhh</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> status</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> firewalld</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 检查防火墙状态</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> start</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> firewalld</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 如果防火墙没有运行就启动起来</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> firewall-cmd</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --permanent</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --add-port=8087/tcp</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 允许开放端口 8087</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> firewall-cmd</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --reload</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 重新加载防火墙规则</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> firewall-cmd</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --list-ports</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 验证端口是否开放</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 启动服务器</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> vim</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> server.js</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> node</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> server.js</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Server</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> running</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> at</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> http://0.0.0.0:8087/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以看到，之前我们配置的项目也可以被正确访问（因为地址和之前不一样了），而且通过访问代理服务器得到了实际服务器的响应，并且其他机器是无法直接访问实际服务器的，我们的设置使得这种行为会返回 <code>403</code>，也就是 <code>禁止访问(Forbidden)</code> 的意思。</p><figure><img src="/work-blog-website/assets/image-20240906231529750-CsA3YhGi.png" alt="image-20240906231529750" tabindex="0" loading="lazy"><figcaption>image-20240906231529750</figcaption></figure><figure><img src="/work-blog-website/assets/image-20240906231727500-Ieryr-V_.png" alt="image-20240906231727500" tabindex="0" loading="lazy"><figcaption>image-20240906231727500</figcaption></figure><figure><img src="/work-blog-website/assets/image-20240907001859922-1UU16SpX.png" alt="image-20240907001859922" tabindex="0" loading="lazy"><figcaption>image-20240907001859922</figcaption></figure><figure><img src="/work-blog-website/assets/image-20240907004533046-CV_8pFJf.png" alt="image-20240907004533046" tabindex="0" loading="lazy"><figcaption>image-20240907004533046</figcaption></figure><div class="hint-container important"><p class="hint-container-title">重要</p><p>补充：<code>CGI(Common Gateway Interface, 通用网关接口)</code> 属于是一种比较老旧的技术设计了，<code>Fast-CGI</code> 是前者的改进，不过我暂时还没有体会到这种架构的好处，您可以简单看下下面文章临时了解以下，或者看看 <code>Nginx</code> 的官方文档，详细请看 <a href="https://blog.csdn.net/bigfaceCatzzZ/article/details/104660718" target="_blank" rel="noopener noreferrer">新手教程中最后一节</a>。</p></div><h2 id="_1-6-nginx-的深入内容" tabindex="-1"><a class="header-anchor" href="#_1-6-nginx-的深入内容"><span>1.6.Nginx 的深入内容</span></a></h2><p>好了，您一定大概了解到了 <code>Nginx</code> 的基本使用了，如果您希望再精进一步，可以 <a href="https://docs.nginx.com/nginx/admin-guide/" target="_blank" rel="noopener noreferrer">尝试阅读 Nginx 的管理员指南文档</a> 获取更多的知识，待补充...</p><h3 id="_1-6-1-配置访问密码" tabindex="-1"><a class="header-anchor" href="#_1-6-1-配置访问密码"><span>1.6.1.配置访问密码</span></a></h3><p>https://blog.csdn.net/i12344/article/details/138459705</p><h1 id="_2-caddy" tabindex="-1"><a class="header-anchor" href="#_2-caddy"><span>2.Caddy</span></a></h1><p><code>Caddy</code> 采用 <code>Go</code> 语言编写，简洁高效的配置过程让其具备和 <code>Nginx</code> 竞争的能力。</p><h2 id="_1-1-caddy-的安装启动" tabindex="-1"><a class="header-anchor" href="#_1-1-caddy-的安装启动"><span>1.1.Caddy 的安装启动</span></a></h2><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 安装和启动</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -y</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> debian-keyring</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> debian-archive-keyring</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apt-transport-https</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> curl</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> curl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -1sLf</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">https://dl.cloudsmith.io/public/caddy/stable/gpg.key</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> |</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> gpg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --dearmor</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -o</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /usr/share/keyrings/caddy-stable-archive-keyring.gpg</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> curl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -1sLf</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">https://dl.cloudsmith.io/public/caddy/stable/debian.deb.txt</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> |</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> tee</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/apt/sources.list.d/caddy-stable.list</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> update</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> caddy</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以快速使用一下，然后我们快速使用 <code>caddy start</code> 启动一下。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> caddy</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> start</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">2025/04/29</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 02:38:12.480</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> INFO</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    maxprocs:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Leaving</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> GOMAXPROCS=16:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> CPU</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> quota</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> undefined</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">2025/04/29</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 02:38:12.480</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> INFO</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    GOMEMLIMIT</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> is</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> updated</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">   {</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">package</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">github.com/KimMachineGun/automemlimit/memlimit</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">GOMEMLIMIT</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 45312521011,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">previous</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 9223372036854775807</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">}</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">2025/04/29</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 02:38:12.481</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> INFO</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    admin</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">   admin</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> endpoint</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> started</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  {</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">address</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">localhost:2019</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">enforce_origin</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> false</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">origins</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">//localhost:2019</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">//[::1]:2019</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">//127.0.0.1:2019</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">]}</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">2025/04/29</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 02:38:12.481</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> INFO</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    serving</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> initial</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> configuration</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Successfully</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> started</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Caddy</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (pid=1299405) - Caddy is running in the background</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这里给出了一个可以和 <code>caddy</code> 服务通信的地址 <code>http://127.0.0.1:2019</code>，利用这个地址就可以传递 <code>json</code> 配置，配置一个服务。下面的两种配置方式是等价的，您可以尝试一下。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> curl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> localhost:2019/load</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    -H</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Content-Type: application/json</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    -d</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> @-</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;&lt;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> EOF</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    {</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">        &quot;apps&quot;: {</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">            &quot;http&quot;: {</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                &quot;servers&quot;: {</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                    &quot;hello&quot;: {</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                        &quot;listen&quot;: [&quot;:2015&quot;],</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                        &quot;routes&quot;: [</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                            {</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                                &quot;handle&quot;: [{</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                                    &quot;handler&quot;: &quot;static_response&quot;,</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                                    &quot;body&quot;: &quot;Hello, world!&quot;</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                                }]</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                            }</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                        ]</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                    }</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">                }</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">            }</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">        }</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    }</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">EOF</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>等价于下面的配置方式。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> curl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> localhost:2019/load</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">  -H</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Content-Type: application/json</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">  -d</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> @caddy.json</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">apps</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">        &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">http</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">            &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">servers</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">                &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">hello</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">                    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">listen</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:2015</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">],</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">                    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">routes</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                        {</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">                            &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">handle</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">                                &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">handler</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">static_response</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">                                &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">body</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Hello, world!</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                            }]</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                        }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                    ]</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">            }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>执行后响应结果如下：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">2025/04/29</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 02:43:56.154</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> INFO</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    admin.api</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">       received</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> request</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">        {</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">method</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">POST</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">host</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">localhost:2019</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">uri</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/load</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">remote_ip</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">127.0.0.1</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">remote_port</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">53892</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">headers</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Accept</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:[</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">*/*</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">],</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Content-Length</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:[</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">530</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">],</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Content-Type</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:[</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">application/json</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">],</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">User-Agent</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:[</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">curl/8.5.0</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">]}}</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">2025/04/29</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 02:43:56.155</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> INFO</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    admin</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">   admin</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> endpoint</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> started</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  {</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">address</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">localhost:2019</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">enforce_origin</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> false</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">origins</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">//[::1]:2019</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">//127.0.0.1:2019</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">//localhost:2019</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">]}</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">2025/04/29</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 02:43:56.155</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> INFO</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    tls.cache.maintenance</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">   started</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> background</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> certificate</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> maintenance</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">      {</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">cache</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">0xc000695900</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">}</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">2025/04/29</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 02:43:56.155</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> WARN</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    http</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    HTTP/2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> skipped</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> because</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> it</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> requires</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> TLS</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  {</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">network</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">tcp</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">addr</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:2015</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">}</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">2025/04/29</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 02:43:56.155</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> WARN</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    http</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    HTTP/3</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> skipped</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> because</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> it</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> requires</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> TLS</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  {</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">network</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">tcp</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">addr</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:2015</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">}</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">2025/04/29</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 02:43:56.155</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> INFO</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    http.log</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">        server</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> running</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  {</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">name</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">hello</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">protocols</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">h1</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">h2</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">h3</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">]}</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">2025/04/29</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 02:43:56.155</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> INFO</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    autosaved</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> config</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (load </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">with</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --resume</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> flag</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)      </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;file&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/home/ljp/.config/caddy/autosave.json</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">}</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">2025/04/29</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 02:43:56.155</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> INFO</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    admin.api</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">       load</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> complete</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">2025/04/29</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 02:43:56.156</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> INFO</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    admin</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">   stopped</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> previous</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> server</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">address</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">localhost:2019</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">}</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">2025/04/29</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 02:43:56.163</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> INFO</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    tls</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">     cleaning</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> storage</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> unit</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">   {</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">storage</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">FileStorage:/home/ljp/.local/share/caddy</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">}</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">            </span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">2025/04/29</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 02:43:56.164</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> INFO</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    tls</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">     finished</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> cleaning</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> storage</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> units</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后命令行终端就可以使用 <code>curl localhost:2015</code> 获取到 <code>Hello, world!</code> 的响应文本。使用 <code>caddy stop</code> 就可以把 <code>caddy</code> 服务和 <code>json</code> 中部署的服务停掉。</p><p>另外还支持使用 <code>Caddyfile</code> 再结合 <code>CLI</code> 指令来进行部署，在当前目录下写入下面的文件后再使用 <code>caddy start</code> 就会自动找到这歌服务进行部署。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">:2015</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    respond</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Hello, world!</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果想要取消服务就需要删除这个文件并且使用 <code>caddy stop</code>。</p><p>这两种方式我们后面还会详细介绍，不过您最好选择其中一种方式来进行学习，我个人更加推荐使用 <code>Caddyfile</code> 文件，因为简单易学。</p><h2 id="_1-2-caddy-的相关查看" tabindex="-1"><a class="header-anchor" href="#_1-2-caddy-的相关查看"><span>1.2.Caddy 的相关查看</span></a></h2><h3 id="_1-2-1-配置内容" tabindex="-1"><a class="header-anchor" href="#_1-2-1-配置内容"><span>1.2.1.配置内容</span></a></h3><p>实际上我们不再需要精确知道配置文件在何处，我们想要查看目前的配置，可以使用 <code>curl localhost:2019/config/</code> 来查看，不仅可以看到我们的 <code>Caddy</code> 配置，还可以看到其他的 <code>json</code> 服务配置。</p><h3 id="_1-2-2-日志内容" tabindex="-1"><a class="header-anchor" href="#_1-2-2-日志内容"><span>1.2.2.日志内容</span></a></h3><p>如果是使用 <code>caddy run</code> 的方式就可以实时在终端界面上查看配访问记录，当然我们的要求不止如此，在使用 <code>caddy start</code> 的时候是以守护进程的方式来运行服务的，这种情况下需要阅读日志可以修改配置文件，这个后面提及。</p><h2 id="_1-3-caddy-的具体操作" tabindex="-1"><a class="header-anchor" href="#_1-3-caddy-的具体操作"><span>1.3.Caddy 的具体操作</span></a></h2><p>您可以按照以下文档顺序进行阅读：</p><ul><li><a href="https://caddyserver.com/docs/quick-starts" target="_blank" rel="noopener noreferrer">快速入门</a></li><li><a href="https://caddyserver.com/docs/getting-started" target="_blank" rel="noopener noreferrer">基础知识</a></li><li><a href="https://caddyserver.com/docs/" target="_blank" rel="noopener noreferrer">全部文档</a></li></ul><p>不过最核心的就是 <code>cli</code> 和 <code>api</code> 的文档：</p><ul><li><p><code>Caddy</code> 提供了命令行工具 <a href="https://caddyserver.com/docs/caddyfile-tutorial" target="_blank" rel="noopener noreferrer">caddy cli</a>：</p><ul><li><code>caddy start</code>：启动 <code>Caddy</code> 服务，以守护进程来启动</li><li><code>caddy adapt</code>：检测当前目录下的 <code>Caddyfile</code> 文件且转化为 <code>json</code> 后输出，可以搭配 <code>jq</code> 进行使用（但不自动部署），同时还会检查配置文件是否有语法错误</li><li><code>caddy run</code>：临时 <code>Caddy</code> 服务（在测试过程使用可以使用 <code>--watch</code> 监测 <code>Caddyfile</code> 配置文件的改动）</li><li><code>caddy stop</code>：停止 <code>Caddy</code> 服务（同时去除之前配置的服务）</li><li><code>caddy reload</code>：重载 <code>Caddy</code> 服务（因此可以使用 <code>Caddyfile</code> 持久化多个服务）</li></ul></li><li><p><code>Caddy</code> 提供了管理接口 <a href="https://caddyserver.com/docs/api-tutorial" target="_blank" rel="noopener noreferrer">caddy api</a>：</p><ul><li><code>localhost:2019/config</code>：以 <code>json</code> 形式输出 <code>Caddy</code> 服务当前的状态</li><li><code>localhost:2019/load</code>：加载/更新 <code>json</code> 中配置的多个服务</li><li><code>localhost:2019/config/apps/http/servers/&lt;服务名称&gt;/routes/&lt;数组下标&gt;/handle/&lt;数组下标&gt;/需要修改的字段</code>：修改部分的 <code>json</code> 配置，避免多个服务被修改（利用 <code>&quot;@id&quot;</code> 的 <code>json</code> 字段可以使用更短的路径来进行高效的修改）</li></ul></li></ul><div class="hint-container caution"><p class="hint-container-title">警告</p><p>警告：使用 <code>caddy start</code> 的本质和使用 <code>systemctl start caddy.service</code> 是一样的，因此不能两者一起使用。</p></div><div class="hint-container important"><p class="hint-container-title">重要</p><p>补充：如果加载新配置时出现任何错误，<code>Caddy</code> 将回滚到上一个正常工作的配置。</p></div><div class="hint-container important"><p class="hint-container-title">重要</p><p>补充：使用 <code>jq</code> 指令可以优化对 <code>json</code> 的美观输出。</p></div><h2 id="_1-4-caddy-的配置结构" tabindex="-1"><a class="header-anchor" href="#_1-4-caddy-的配置结构"><span>1.4.Caddy 的配置结构</span></a></h2><h4 id="_1-4-1-json-文件" tabindex="-1"><a class="header-anchor" href="#_1-4-1-json-文件"><span>1.4.1.JSON 文件</span></a></h4><p><code>Caddy</code> 支持使用 <code>JSON</code> 文件来搭建服务。</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">apps</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">        &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">http</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">            &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">servers</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">                &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">&lt;服务名1&gt;</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">                    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">listen</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&lt;域名1&gt;:&lt;端口号1&gt;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">],</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">                    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">routes</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                        {</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">                            &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">handle</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">                                &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">handler</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">static_response</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">                                &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">body</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Hello, world!</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                            }]</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                        }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                    ]</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                },</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">                &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">&lt;服务名2&gt;</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">                    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">listen</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&lt;域名2&gt;:&lt;端口号2&gt;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">],</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">                    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">routes</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                        {</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">                            &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">handle</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">                                &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">handler</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">static_response</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">                                &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">body</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Goodbye, world!</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                            }]</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                        }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                    ]</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">            }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-4-2-caddyfile-文件" tabindex="-1"><a class="header-anchor" href="#_1-4-2-caddyfile-文件"><span>1.4.2.Caddyfile 文件</span></a></h4><p><code>Caddy</code> 支持使用 <code>Caddyfile</code> 文件来搭建服务（我们最主要还是使用这种方式）。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">域名</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">1&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">:</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">端口号</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">1&gt;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        respond</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Hello, world!</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">域名</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">2&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">:</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">端口号</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">2&gt;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        respond</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Goodbye, world!</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container important"><p class="hint-container-title">重要</p><p>补充：如果提示您的格式不规范，可以使用 <code>caddy fmt --overwrite</code> 自动规范文件。</p></div><div class="hint-container important"><p class="hint-container-title">重要</p><p>补充：允许您使用 <code>#</code> 开头的文本行作为 <code>Caddyfile</code> 中的注释。</p></div><div class="hint-container important"><p class="hint-container-title">重要</p><p>补充：如果使用了域名部署并且需要使用 <code>443</code> 这种敏感端口，就需要使用 <code>sudo</code> 来提高权限。</p></div><div class="hint-container important"><p class="hint-container-title">重要</p><p>补充：<code>Caddyfile</code> 支持在解析之前读取外部的环境变量。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> export</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> SITE_ADDRESS=localhost:9055</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>而下面的 <code>Caddyfile</code> 就会从：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">{$SITE_ADDRESS}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">file_server</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>被解析为：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">localhost:9055</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">file_server</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><h2 id="_1-5-caddy-的主要用途" tabindex="-1"><a class="header-anchor" href="#_1-5-caddy-的主要用途"><span>1.5.Caddy 的主要用途</span></a></h2><h3 id="_1-5-1-caddy-的静态网站部署" tabindex="-1"><a class="header-anchor" href="#_1-5-1-caddy-的静态网站部署"><span>1.5.1.Caddy 的静态网站部署</span></a></h3><p>使用 <code>Caddy</code> 来部署一个可以查阅服务器文件的服务简直不要太容易，只需要做以下的配置（域名和端口您自己换）。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> touch</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> README.md</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> vim</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> caddy.html</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &amp;&amp;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> cat</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> caddy.html</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;!</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">DOCTYPE</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> htm</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">l</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">html</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">        &lt;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">head</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">                &lt;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">title</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Caddy</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> tutorial</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/titl</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">e</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">        &lt;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">/head</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">        &lt;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">body</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">                Page</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> loaded</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> at:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {{now | date &quot;Mon Jan 2 15:04:05 MST 2006&quot;}}</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">        &lt;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">/body</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/html</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> vim</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Caddyfile</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &amp;&amp;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> cat</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Caddyfile</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">localhost</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    encode</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 支持压缩传输</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    templates</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 支持模板语法</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    file_server</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> browse</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 支持文件阅览</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> caddy</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> run</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --watch</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 注意一定要加上 sudo, 因为我们直接使用 localhost 相当于使用域名, 因此需要使用 443 这种端口, 需要提高权限才可以使用</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>访问 <code>https://localhost</code> 即可得到下面界面，点击文件就可以切换带有模板语法的 <code>html</code> 文件。</p><div class="hint-container important"><p class="hint-container-title">重要</p><p>补充：如果不希望启用 <code>https</code>，可以使用 <code>tls off</code> 来关闭。</p></div><figure><img src="/work-blog-website/assets/img_v3_02lt_52e5d641-3770-4f75-a72a-7ba9bd6d456g-C6PJg6cE.jpg" alt="img_v3_02lt_52e5d641-3770-4f75-a72a-7ba9bd6d456g" tabindex="0" loading="lazy"><figcaption>img_v3_02lt_52e5d641-3770-4f75-a72a-7ba9bd6d456g</figcaption></figure><figure><img src="/work-blog-website/assets/img_v3_02lt_40cbe01a-8d56-4203-abf0-bdcd9bb72bfg-2LKIkEhH.jpg" alt="img_v3_02lt_40cbe01a-8d56-4203-abf0-bdcd9bb72bfg" tabindex="0" loading="lazy"><figcaption>img_v3_02lt_40cbe01a-8d56-4203-abf0-bdcd9bb72bfg</figcaption></figure><p>不过我们还不止是需要这种效果，我们更加希望用户访问服务器根目录后能直接看到部署好的前端服务，此时就可以修改根目录。我们新增加一个 <code>dist</code> 文件，然后使用约定的 <code>index.html</code> 文件写入一些简单的内容（如果不是使用 <code>index.html</code> 需要您在使用 <code>curl</code> 时指定文件名称）。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> vim</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Caddyfile</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &amp;&amp;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> cat</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Caddyfile</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">localhost</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">root</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> *</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ./dist/</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">file_server</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> mkdir</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -p</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dist</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &amp;&amp;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> vim</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dist/index.html</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &amp;&amp;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> cat</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dist/index.html</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;!</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">DOCTYPE</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> htm</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">l</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">html</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">        &lt;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">head</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">                &lt;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">title</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Caddy</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> index</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/titl</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">e</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">        &lt;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">/head</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">        &lt;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">body</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    &lt;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">p</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">I</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> am</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> a</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> index.html</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">p</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">        &lt;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">/body</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/html</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ls</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Caddyfile</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  caddy.html</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  dist</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  README.md</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> caddy</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> reload</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> curl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://localhost/</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;!</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">DOCTYPE</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> htm</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">l</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">html</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">        &lt;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">head</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">                &lt;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">title</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Caddy</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> index</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/titl</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">e</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">        &lt;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">/head</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">        &lt;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">body</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    &lt;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">p</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">I</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> am</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> a</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> index.html</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">p</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">        &lt;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">/body</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/html</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>前面我们说过日志文件的问题，这里也可以自己定义日志文件的去处，而不仅仅在命令行上查看。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> vim</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Caddyfile</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &amp;&amp;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> cat</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Caddyfile</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">localhost</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  root</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> *</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ./dist/</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  file_server</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  log</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">      output</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> file</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ./dist/access.log</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">      format</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> json</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 日志格式包含</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  }</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> caddy</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> reload</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">2025/05/02</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 15:38:44.434</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> INFO</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    using</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> adjacent</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Caddyfile</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">2025/05/02</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 15:38:44.435</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> INFO</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    adapted</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> config</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> to</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> JSON</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  {</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">adapter</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">caddyfile</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">}</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">2025/05/02</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 15:38:44.435</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> WARN</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    Caddyfile</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> input</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> is</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> not</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> formatted</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> run</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">caddy fmt --overwrite</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> to</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> fix</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> inconsistencies</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    {</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">adapter</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">caddyfile</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">file</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Caddyfile</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">line</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> curl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://localhost/</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;!</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">DOCTYPE</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> htm</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">l</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">html</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">        &lt;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">head</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">                &lt;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">title</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Caddy</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> index</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/titl</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">e</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">        &lt;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">/head</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">        &lt;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">body</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    &lt;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">p</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">I</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> am</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> a</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> index.html</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">p</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">        &lt;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">/body</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/html</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> cat</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dist/access.log</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 注意需要提高权限</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;level&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;info&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">,</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;ts&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">:1746200328.3812969,</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;logger&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;http.log.access.log0&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">,</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;msg&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;handled request&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">,</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;request&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">{</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">remote_ip</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;:&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:1</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;,&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">remote_port</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;:&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">39740</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;,&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">client_ip</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;:&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:1</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;,&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">proto</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;:&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">HTTP/2.0</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;,&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">method</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;:&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">GET</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;,&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">host</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;:&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">localhost</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;,&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">uri</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;:&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">/</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;,&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">headers</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;:{&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">User-Agent</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;:[&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">curl/8.5.0</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;],&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Accept</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;:[&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">*/*</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;]},&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">tls</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;:{&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">resumed</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;:false,&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">version</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;:772,&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">cipher_suite</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;:4865,&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">proto</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;:&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">h2</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;,&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">server_name</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;:&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">localhost</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;}},&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">bytes_read</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;:0,&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">user_id</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;:&quot;&quot;,&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">duration</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;:0.000096963,&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">size</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;:123,&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">status</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;:200,&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">resp_headers</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;:{&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Last-Modified</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;:[&quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Fri,</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 02</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> May</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2025</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 15:31:34</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> GMT</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">],</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Accept-Ranges</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:[</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">bytes</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">],</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Content-Length</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:[</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">123</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">],</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Server</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:[</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Caddy</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">],</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Alt-Svc</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:[</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">h3=</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:443</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> ma</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">2592000</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">],</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Vary</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:[</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Accept-Encoding</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">],</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Etag</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:[</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">d9ls796hiq8d3f</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">],</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Content-Type</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:[</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">text/html</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> charset</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">utf-8</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">]}}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">$ sudo cat dist/access.log | jq # 或者用更加可见的方式</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">{</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">  &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">level</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">: </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">info</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">,</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">  &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ts</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">: 1746200328.3812969,</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">  &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">logger</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">: </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">http.log.access.log0</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">,</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">  &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">msg</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">: </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">handled</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> request</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;,</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  &quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">request</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;: {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    &quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">remote_ip</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;: &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:1</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;,</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    &quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">remote_port</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;: &quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">39740</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;,</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    &quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">client_ip</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;: &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:1</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;,</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    &quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">proto</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;: &quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">HTTP/2.0</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;,</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    &quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">method</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;: &quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">GET</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;,</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    &quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">host</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;: &quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">localhost</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;,</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    &quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">uri</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;: &quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">/</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;,</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    &quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">headers</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;: {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">      &quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">User-Agent</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;: [</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        &quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">curl/8.5.0</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">      ],</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">      &quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Accept</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;: [</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        &quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">*/*</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">      ]</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    },</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    &quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">tls</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;: {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">      &quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">resumed</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;: false,</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">      &quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">version</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;: 772,</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">      &quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">cipher_suite</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;: 4865,</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">      &quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">proto</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;: &quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">h2</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;,</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">      &quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">server_name</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;: &quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">localhost</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    }</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  },</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  &quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">bytes_read</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;: 0,</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  &quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">user_id</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;: &quot;&quot;,</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  &quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">duration</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;: 0.000096963,</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  &quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">size</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;: 123,</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  &quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">status</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;: 200,</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  &quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">resp_headers</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;: {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    &quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Last-Modified</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">&quot;: [</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">      &quot;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Fri,</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 02</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> May</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2025</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 15:31:34</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> GMT</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    ],</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Accept-Ranges</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">: [</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">      &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">bytes</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    ],</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Content-Length</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">: [</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">      &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">123</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    ],</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Server</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">: [</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">      &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Caddy</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    ],</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Alt-Svc</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">: [</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">      &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">h3=</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:443</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> ma</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">2592000</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    ],</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Vary</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">: [</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">      &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Accept-Encoding</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    ],</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Etag</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">: [</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">      &quot;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">d9ls796hiq8d3f</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    ],</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Content-Type</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">: [</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">      &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">text/html</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> charset</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">utf-8</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    ]</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  }</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-5-2-caddy-的代理服务部署" tabindex="-1"><a class="header-anchor" href="#_1-5-2-caddy-的代理服务部署"><span>1.5.2.Caddy 的代理服务部署</span></a></h3><p>做反向代理也是很快的，下面展示的两个例子就是基于匹配器的代理语法。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">localhost</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    file_server</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    reverse_proxy</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 127.0.0.1:9005</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">localhost</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    reverse_proxy</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /api/</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">*</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 127.0.0.1:9005</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    file_server</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_1-6-caddy-的深入内容" tabindex="-1"><a class="header-anchor" href="#_1-6-caddy-的深入内容"><span>1.6.Caddy 的深入内容</span></a></h2><p>可以看出 <code>Caddy</code> 非常简洁，下面提供一些资料供您参考：</p><ul><li><a href="https://caddyserver.com/docs/command-line" target="_blank" rel="noopener noreferrer">更详细的命令操作</a></li><li><a href="https://caddyserver.com/docs/api" target="_blank" rel="noopener noreferrer">更详细的管理接口</a></li><li><a href="https://caddyserver.com/docs/architecture" target="_blank" rel="noopener noreferrer">更详细的原理解读</a></li><li><a href="https://caddyserver.com/docs/extending-caddy" target="_blank" rel="noopener noreferrer">更详细的拓展开发</a></li></ul><p>官方文档非常易读，请仔细查阅...</p></div><!----><!--[--><h2 id="doc-changelog" tabindex="-1"><a href="#doc-changelog" class="header-anchor"><span>更新日志</span></a></h2><div class="vp-changelog-wrapper"><div class="vp-changelog-header"><div class="vp-latest-updated"><span class="vp-changelog-icon"></span><span data-allow-mismatch>2026/1/25 16:36</span></div><div><span class="vp-changelog-menu-icon"></span><span>查看所有更新日志</span></div></div><ul class="vp-changelog-list"><!--[--><li class="vp-changelog-item-commit"><a class="vp-changelog-hash" href="https://github.com/limou3434/work-blog-website/commit/403d4bb1a423fafb3f1de0fb7b0ef8203abf65fa" target="_blank" rel="noreferrer"><code>403d4</code></a><span class="vp-changelog-divider">-</span><span class="vp-changelog-message">修改 Github 工作流的配置，以方便未来支持前后端拓展</span><span class="vp-changelog-date" data-allow-mismatch>于 <time datetime="2026-01-25T16:36:00.000Z">2026/1/25</time></span></li><!--]--></ul></div><!--]--><div class="vp-doc-copyright" data-v-fb4edded><h2 id="doc-copyright" tabindex="-1" class="vp-doc-header" data-v-c0ea4d83><a href="#doc-copyright" class="header-anchor" data-v-c0ea4d83><span data-v-c0ea4d83><!--[-->版权所有<!--]--></span></a></h2><div class="vp-copyright" data-v-4ac3eb97><span class="copyright-mask" data-v-4ac3eb97></span><p data-v-4ac3eb97><span data-v-4ac3eb97>版权归属：</span><a class="vp-link link no-icon vp-external-link-icon" href="https://github.com/limou3434" target="_blank" rel="noreferrer" data-v-4ac3eb97><!--[-->limou3434<!--]--></a></p><!----><p data-v-4ac3eb97><span data-v-4ac3eb97>许可证：</span><a class="vp-link link no-icon vp-external-link-icon" href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noreferrer" data-v-4ac3eb97><!--[-->署名 4.0 国际 (CC-BY-4.0)<!--]--></a><!--[--><span class="vpi-license-cc" data-v-4ac3eb97></span><span class="vpi-license-by" data-v-4ac3eb97></span><!--]--></p></div></div><footer class="vp-doc-footer" data-v-fb4edded data-v-ec326a5d><!--[--><!--]--><div class="edit-info" data-v-ec326a5d><div class="edit-link" data-v-ec326a5d><a class="vp-link link no-icon vp-external-link-icon edit-link-button" href="https://github.com/limou3434/work-blog-website/edit/main/docs/3.系统网络/1.基本操作/036_ljp_2024_09_05_伺服程序软件.md" target="_blank" rel="noreferrer" data-v-ec326a5d><!--[--><span class="vpi-square-pen edit-link-icon" aria-label="edit icon" data-v-ec326a5d></span> 编辑此页<!--]--></a></div><!----></div><div class="contributors" aria-label="Contributors" data-v-ec326a5d><span class="contributors-label" data-v-ec326a5d>贡献者: </span><span class="contributors-info" data-v-ec326a5d><!--[--><!--[--><span class="contributor" data-v-ec326a5d>limou3434</span><!----><!--]--><!--]--></span></div><nav class="prev-next" data-v-ec326a5d><div class="pager" data-v-ec326a5d><a class="vp-link link pager-link prev" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/oqw8t109/" data-v-ec326a5d><!--[--><span class="desc" data-v-ec326a5d>上一页</span><span class="title" data-v-ec326a5d><!----><span data-v-ec326a5d>终端优化软件</span></span><!--]--></a></div><div class="pager" data-v-ec326a5d><a class="vp-link link pager-link next" href="/work-blog-website/3.%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C/tsuvkv27/" data-v-ec326a5d><!--[--><span class="desc" data-v-ec326a5d>下一页</span><span class="title" data-v-ec326a5d><!----><span data-v-ec326a5d>项目部署软件</span></span><!--]--></a></div></nav></footer></div><!--]--></main><div id="comment" class="giscus-wrapper input-top vp-comment" vp-comment style="display:block;" data-v-fb4edded><div style="display: flex;align-items: center;justify-content: center;height: 96px"><span style="--loading-icon: url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; preserveAspectRatio=&#39;xMidYMid&#39; viewBox=&#39;25 25 50 50&#39;%3E%3CanimateTransform attributeName=&#39;transform&#39; type=&#39;rotate&#39; dur=&#39;2s&#39; keyTimes=&#39;0;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;360&#39;%3E%3C/animateTransform%3E%3Ccircle cx=&#39;50&#39; cy=&#39;50&#39; r=&#39;20&#39; fill=&#39;none&#39; stroke=&#39;currentColor&#39; stroke-width=&#39;4&#39; stroke-linecap=&#39;round&#39;%3E%3Canimate attributeName=&#39;stroke-dasharray&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;1,200;90,200;1,200&#39;%3E%3C/animate%3E%3Canimate attributeName=&#39;stroke-dashoffset&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;-35px;-125px&#39;%3E%3C/animate%3E%3C/circle%3E%3C/svg%3E&quot;);--icon-size: 48px;display: inline-block;width: var(--icon-size);height: var(--icon-size);background-color: currentcolor;-webkit-mask-image: var(--loading-icon);mask-image: var(--loading-icon)"></span></div></div><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!--]--><button type="button" class="vp-back-to-top" aria-label="back to top" data-v-ea6c3a80 style="display:none;" data-v-bcf8d9a6><span class="percent" data-allow-mismatch data-v-bcf8d9a6>0%</span><span class="show icon vpi-back-to-top" data-v-bcf8d9a6></span><svg aria-hidden="true" data-v-bcf8d9a6><circle cx="50%" cy="50%" data-allow-mismatch style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-bcf8d9a6></circle></svg></button><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" aria-label="sign down" class="vp-sign-down" aria-hidden="true" data-v-ea6c3a80 style="display:none;" data-v-900978de><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" data-v-900978de><path d="m19 11l-7 6l-7-6" data-v-900978de></path><path d="m19 5l-7 6l-7-6" opacity="0.6" data-v-900978de></path></g></svg><footer class="vp-footer has-sidebar" vp-footer data-v-ea6c3a80 data-v-62c49f51><!--[--><div class="container" data-v-62c49f51><div class="message" data-v-62c49f51>Make by <a target="_blank" href="https://github.com/limou3434">limou3434</a></div><div class="copyright" data-v-62c49f51>MIT</div></div><!--]--></footer><!--[--><!--]--><!--]--></div><div class="border top-right vp-bulletin preset"><button type="button" class="close"><span class="vpi-close"></span></button><!--[--><h2>本站公告</h2><div class="container"><div class="bulletin-content content vp-doc" data-v-3cc270f4><p data-v-3cc270f4>本网站正在不断升级中，若有 bug 可以在本开发者的对应项目下提交 <a href="https://github.com/limou3434/work-blog-website/issues" target="_blank" data-v-3cc270f4>issues</a>。</p></div></div><!--]--></div><!--]--><!--[--><!--]--><!--]--></div><script type="module" src="/work-blog-website/assets/app-D7GzF563.js" defer></script></body></html>