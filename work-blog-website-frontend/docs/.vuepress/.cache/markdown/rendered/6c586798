{"content":"<p>主要是关于 <code v-pre>zsh</code> 的</p>\n<blockquote>\n<ul>\n<li>登录 shell：需要用户名、密码登录后才能进入的 shell（或者通过--login”选项生成的 shell）。</li>\n<li>非登录 shell：不需要输入用户名和密码即可打开的 Shell，例如：直接命令“bash”就是打开一个新的非登录 shell；在 Gnome 或 KDE 中打开一个“终端”（terminal）窗口程序也是一个非登录 shell。</li>\n<li>退出一个登录 shell：exit 或者 logout；退出一个非登录 shell：只能 exit。</li>\n</ul>\n</blockquote>\n<blockquote>\n<p><code v-pre>echo $-</code>，有 <code v-pre>i - interactive</code> ，所以是交互式 <code v-pre>shell</code>；反之则为非交互式。</p>\n</blockquote>\n<p>Zsh 的启动顺序包括执行一系列不同的配置文件，具体取决于 zsh 的运行模式（交互式、登录、非登录等）。以下是 zsh 启动时的主要文件和顺序：</p>\n<h3 id=\"_1-登录-shell-启动时\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_1-登录-shell-启动时\"><span>1. 登录 shell 启动时：</span></a></h3>\n<p>当 zsh 作为登录 shell 启动时（例如通过终端或在 SSH 登录时），它会按照以下顺序读取配置文件：</p>\n<ol>\n<li><strong><code v-pre>/etc/zsh/zshenv</code></strong>  用于设置系统级别的 <strong>环境变量</strong></li>\n<li><strong><code v-pre>~/.zshenv</code></strong>  用于用户级别 <strong>环境变量</strong></li>\n<li><strong><code v-pre>/etc/zsh/zprofile</code></strong>  用于放置系统中与登录时相关的命令</li>\n<li><strong><code v-pre>~/.zprofile</code></strong>  用于放置用户中与登录时相关的命令</li>\n<li><strong><code v-pre>/etc/zsh/zshrc</code></strong>  交互式终端会加载这个系统级配置文件，通常放置 <strong>主题、别名、强化、函数和其他自定义设置</strong></li>\n<li><strong><code v-pre>~/.zshrc</code></strong>  交互式终端会加载这个用户级配置文件，通常放置 <strong>主题、别名、强化、函数和其他自定义设置</strong></li>\n<li><strong><code v-pre>/etc/zsh/zlogin</code></strong>  在 <code v-pre>shell</code> 完全启动后执行的系统级别文件，通常放置用户希望在 <strong>登录完成后执行的命令</strong></li>\n<li><strong><code v-pre>~/.zlogin</code></strong>  在 <code v-pre>shell</code> 完全启动后执行的用户级别文件，通常放置用户希望在 <strong>登录完成后执行的命令</strong></li>\n<li><code v-pre>/etc/zsh/zlogout</code> 类似</li>\n<li><code v-pre>/.zlogout</code> 类似</li>\n</ol>\n<blockquote>\n<p><code v-pre>/etc/prifile</code> 用于防止兼容中与登录时相关的命令（有的不加载，这只是做兼容）</p>\n</blockquote>\n<h3 id=\"_2-退出登录时\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_2-退出登录时\"><span>2. 退出登录时：</span></a></h3>\n<p>当 zsh 作为登录 shell 退出时，以下文件按顺序执行：</p>\n<ol>\n<li>\n<p><strong><code v-pre>/etc/zsh/zlogout</code></strong></p>\n<ul>\n<li>系统级别的登出脚本，执行一些清理任务。</li>\n</ul>\n</li>\n<li>\n<p><strong><code v-pre>~/.zlogout</code></strong></p>\n<ul>\n<li>用户级别的登出脚本，用于执行清理或记录退出时的操作。</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"_3-非登录-shell-启动时\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_3-非登录-shell-启动时\"><span>3. 非登录 shell 启动时：</span></a></h3>\n<p>如果 zsh 作为非登录的交互式 shell 启动（例如打开新终端窗口），则会跳过 <code v-pre>zprofile</code> 和 <code v-pre>zlogin</code>，按以下顺序执行：</p>\n<ol>\n<li><strong><code v-pre>/etc/zsh/zshenv</code></strong></li>\n<li><strong><code v-pre>~/.zshenv</code></strong></li>\n<li><strong><code v-pre>/etc/zsh/zshrc</code></strong></li>\n<li><strong><code v-pre>~/.zshrc</code></strong></li>\n</ol>\n<p><a href=\"https://www.hackerneo.com/blog/dev-tools/better-use-terminal-with-zsh#%E5%AE%89%E8%A3%85-oh-my-zsh\" target=\"_blank\" rel=\"noopener noreferrer\">zsh 安装与配置：9步打造高效命令行 - HackerNeo</a></p>\n<p><a href=\"https://cn.x-cmd.com/\" target=\"_blank\" rel=\"noopener noreferrer\">X-CMD | 开源轻量级 POSIX 脚本，用于管理工具 (500+) 和提供经典命令扩展</a></p>\n<p><a href=\"https://lazyvim-github-io.vercel.app/zh-Hans/\" target=\"_blank\" rel=\"noopener noreferrer\">🚀 入门指南 | LazyVim</a></p>\n<p>yazi</p>\n<p>trmp</p>\n","env":{"base":"/","filePath":"/home/ljp/git/work/work-blog-website/work-blog-website-frontend/docs/3.系统网络/1.基本操作/035_ljp_2024_09_18_终端优化软件.md","filePathRelative":"3.系统网络/1.基本操作/035_ljp_2024_09_18_终端优化软件.md","frontmatter":{"createTime":"2025/04/09 23:31:30","permalink":"/3.系统网络/oqw8t109/","title":"终端优化软件"},"sfcBlocks":{"template":{"type":"template","content":"<template><p>主要是关于 <code v-pre>zsh</code> 的</p>\n<blockquote>\n<ul>\n<li>登录 shell：需要用户名、密码登录后才能进入的 shell（或者通过--login”选项生成的 shell）。</li>\n<li>非登录 shell：不需要输入用户名和密码即可打开的 Shell，例如：直接命令“bash”就是打开一个新的非登录 shell；在 Gnome 或 KDE 中打开一个“终端”（terminal）窗口程序也是一个非登录 shell。</li>\n<li>退出一个登录 shell：exit 或者 logout；退出一个非登录 shell：只能 exit。</li>\n</ul>\n</blockquote>\n<blockquote>\n<p><code v-pre>echo $-</code>，有 <code v-pre>i - interactive</code> ，所以是交互式 <code v-pre>shell</code>；反之则为非交互式。</p>\n</blockquote>\n<p>Zsh 的启动顺序包括执行一系列不同的配置文件，具体取决于 zsh 的运行模式（交互式、登录、非登录等）。以下是 zsh 启动时的主要文件和顺序：</p>\n<h3 id=\"_1-登录-shell-启动时\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_1-登录-shell-启动时\"><span>1. 登录 shell 启动时：</span></a></h3>\n<p>当 zsh 作为登录 shell 启动时（例如通过终端或在 SSH 登录时），它会按照以下顺序读取配置文件：</p>\n<ol>\n<li><strong><code v-pre>/etc/zsh/zshenv</code></strong>  用于设置系统级别的 <strong>环境变量</strong></li>\n<li><strong><code v-pre>~/.zshenv</code></strong>  用于用户级别 <strong>环境变量</strong></li>\n<li><strong><code v-pre>/etc/zsh/zprofile</code></strong>  用于放置系统中与登录时相关的命令</li>\n<li><strong><code v-pre>~/.zprofile</code></strong>  用于放置用户中与登录时相关的命令</li>\n<li><strong><code v-pre>/etc/zsh/zshrc</code></strong>  交互式终端会加载这个系统级配置文件，通常放置 <strong>主题、别名、强化、函数和其他自定义设置</strong></li>\n<li><strong><code v-pre>~/.zshrc</code></strong>  交互式终端会加载这个用户级配置文件，通常放置 <strong>主题、别名、强化、函数和其他自定义设置</strong></li>\n<li><strong><code v-pre>/etc/zsh/zlogin</code></strong>  在 <code v-pre>shell</code> 完全启动后执行的系统级别文件，通常放置用户希望在 <strong>登录完成后执行的命令</strong></li>\n<li><strong><code v-pre>~/.zlogin</code></strong>  在 <code v-pre>shell</code> 完全启动后执行的用户级别文件，通常放置用户希望在 <strong>登录完成后执行的命令</strong></li>\n<li><code v-pre>/etc/zsh/zlogout</code> 类似</li>\n<li><code v-pre>/.zlogout</code> 类似</li>\n</ol>\n<blockquote>\n<p><code v-pre>/etc/prifile</code> 用于防止兼容中与登录时相关的命令（有的不加载，这只是做兼容）</p>\n</blockquote>\n<h3 id=\"_2-退出登录时\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_2-退出登录时\"><span>2. 退出登录时：</span></a></h3>\n<p>当 zsh 作为登录 shell 退出时，以下文件按顺序执行：</p>\n<ol>\n<li>\n<p><strong><code v-pre>/etc/zsh/zlogout</code></strong></p>\n<ul>\n<li>系统级别的登出脚本，执行一些清理任务。</li>\n</ul>\n</li>\n<li>\n<p><strong><code v-pre>~/.zlogout</code></strong></p>\n<ul>\n<li>用户级别的登出脚本，用于执行清理或记录退出时的操作。</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"_3-非登录-shell-启动时\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_3-非登录-shell-启动时\"><span>3. 非登录 shell 启动时：</span></a></h3>\n<p>如果 zsh 作为非登录的交互式 shell 启动（例如打开新终端窗口），则会跳过 <code v-pre>zprofile</code> 和 <code v-pre>zlogin</code>，按以下顺序执行：</p>\n<ol>\n<li><strong><code v-pre>/etc/zsh/zshenv</code></strong></li>\n<li><strong><code v-pre>~/.zshenv</code></strong></li>\n<li><strong><code v-pre>/etc/zsh/zshrc</code></strong></li>\n<li><strong><code v-pre>~/.zshrc</code></strong></li>\n</ol>\n<p><a href=\"https://www.hackerneo.com/blog/dev-tools/better-use-terminal-with-zsh#%E5%AE%89%E8%A3%85-oh-my-zsh\" target=\"_blank\" rel=\"noopener noreferrer\">zsh 安装与配置：9步打造高效命令行 - HackerNeo</a></p>\n<p><a href=\"https://cn.x-cmd.com/\" target=\"_blank\" rel=\"noopener noreferrer\">X-CMD | 开源轻量级 POSIX 脚本，用于管理工具 (500+) 和提供经典命令扩展</a></p>\n<p><a href=\"https://lazyvim-github-io.vercel.app/zh-Hans/\" target=\"_blank\" rel=\"noopener noreferrer\">🚀 入门指南 | LazyVim</a></p>\n<p>yazi</p>\n<p>trmp</p>\n</template>","contentStripped":"<p>主要是关于 <code v-pre>zsh</code> 的</p>\n<blockquote>\n<ul>\n<li>登录 shell：需要用户名、密码登录后才能进入的 shell（或者通过--login”选项生成的 shell）。</li>\n<li>非登录 shell：不需要输入用户名和密码即可打开的 Shell，例如：直接命令“bash”就是打开一个新的非登录 shell；在 Gnome 或 KDE 中打开一个“终端”（terminal）窗口程序也是一个非登录 shell。</li>\n<li>退出一个登录 shell：exit 或者 logout；退出一个非登录 shell：只能 exit。</li>\n</ul>\n</blockquote>\n<blockquote>\n<p><code v-pre>echo $-</code>，有 <code v-pre>i - interactive</code> ，所以是交互式 <code v-pre>shell</code>；反之则为非交互式。</p>\n</blockquote>\n<p>Zsh 的启动顺序包括执行一系列不同的配置文件，具体取决于 zsh 的运行模式（交互式、登录、非登录等）。以下是 zsh 启动时的主要文件和顺序：</p>\n<h3 id=\"_1-登录-shell-启动时\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_1-登录-shell-启动时\"><span>1. 登录 shell 启动时：</span></a></h3>\n<p>当 zsh 作为登录 shell 启动时（例如通过终端或在 SSH 登录时），它会按照以下顺序读取配置文件：</p>\n<ol>\n<li><strong><code v-pre>/etc/zsh/zshenv</code></strong>  用于设置系统级别的 <strong>环境变量</strong></li>\n<li><strong><code v-pre>~/.zshenv</code></strong>  用于用户级别 <strong>环境变量</strong></li>\n<li><strong><code v-pre>/etc/zsh/zprofile</code></strong>  用于放置系统中与登录时相关的命令</li>\n<li><strong><code v-pre>~/.zprofile</code></strong>  用于放置用户中与登录时相关的命令</li>\n<li><strong><code v-pre>/etc/zsh/zshrc</code></strong>  交互式终端会加载这个系统级配置文件，通常放置 <strong>主题、别名、强化、函数和其他自定义设置</strong></li>\n<li><strong><code v-pre>~/.zshrc</code></strong>  交互式终端会加载这个用户级配置文件，通常放置 <strong>主题、别名、强化、函数和其他自定义设置</strong></li>\n<li><strong><code v-pre>/etc/zsh/zlogin</code></strong>  在 <code v-pre>shell</code> 完全启动后执行的系统级别文件，通常放置用户希望在 <strong>登录完成后执行的命令</strong></li>\n<li><strong><code v-pre>~/.zlogin</code></strong>  在 <code v-pre>shell</code> 完全启动后执行的用户级别文件，通常放置用户希望在 <strong>登录完成后执行的命令</strong></li>\n<li><code v-pre>/etc/zsh/zlogout</code> 类似</li>\n<li><code v-pre>/.zlogout</code> 类似</li>\n</ol>\n<blockquote>\n<p><code v-pre>/etc/prifile</code> 用于防止兼容中与登录时相关的命令（有的不加载，这只是做兼容）</p>\n</blockquote>\n<h3 id=\"_2-退出登录时\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_2-退出登录时\"><span>2. 退出登录时：</span></a></h3>\n<p>当 zsh 作为登录 shell 退出时，以下文件按顺序执行：</p>\n<ol>\n<li>\n<p><strong><code v-pre>/etc/zsh/zlogout</code></strong></p>\n<ul>\n<li>系统级别的登出脚本，执行一些清理任务。</li>\n</ul>\n</li>\n<li>\n<p><strong><code v-pre>~/.zlogout</code></strong></p>\n<ul>\n<li>用户级别的登出脚本，用于执行清理或记录退出时的操作。</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"_3-非登录-shell-启动时\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_3-非登录-shell-启动时\"><span>3. 非登录 shell 启动时：</span></a></h3>\n<p>如果 zsh 作为非登录的交互式 shell 启动（例如打开新终端窗口），则会跳过 <code v-pre>zprofile</code> 和 <code v-pre>zlogin</code>，按以下顺序执行：</p>\n<ol>\n<li><strong><code v-pre>/etc/zsh/zshenv</code></strong></li>\n<li><strong><code v-pre>~/.zshenv</code></strong></li>\n<li><strong><code v-pre>/etc/zsh/zshrc</code></strong></li>\n<li><strong><code v-pre>~/.zshrc</code></strong></li>\n</ol>\n<p><a href=\"https://www.hackerneo.com/blog/dev-tools/better-use-terminal-with-zsh#%E5%AE%89%E8%A3%85-oh-my-zsh\" target=\"_blank\" rel=\"noopener noreferrer\">zsh 安装与配置：9步打造高效命令行 - HackerNeo</a></p>\n<p><a href=\"https://cn.x-cmd.com/\" target=\"_blank\" rel=\"noopener noreferrer\">X-CMD | 开源轻量级 POSIX 脚本，用于管理工具 (500+) 和提供经典命令扩展</a></p>\n<p><a href=\"https://lazyvim-github-io.vercel.app/zh-Hans/\" target=\"_blank\" rel=\"noopener noreferrer\">🚀 入门指南 | LazyVim</a></p>\n<p>yazi</p>\n<p>trmp</p>\n","tagOpen":"<template>","tagClose":"</template>"},"script":null,"scriptSetup":null,"scripts":[],"styles":[],"customBlocks":[]},"content":"\n主要是关于 `zsh` 的\n\n>   *   登录 shell：需要用户名、密码登录后才能进入的 shell（或者通过--login”选项生成的 shell）。\n>   *   非登录 shell：不需要输入用户名和密码即可打开的 Shell，例如：直接命令“bash”就是打开一个新的非登录 shell；在 Gnome 或 KDE 中打开一个“终端”（terminal）窗口程序也是一个非登录 shell。\n>   *   退出一个登录 shell：exit 或者 logout；退出一个非登录 shell：只能 exit。\n\n>   `echo $-`，有 `i - interactive` ，所以是交互式 `shell`；反之则为非交互式。\n\nZsh 的启动顺序包括执行一系列不同的配置文件，具体取决于 zsh 的运行模式（交互式、登录、非登录等）。以下是 zsh 启动时的主要文件和顺序：\n\n### 1. 登录 shell 启动时：\n当 zsh 作为登录 shell 启动时（例如通过终端或在 SSH 登录时），它会按照以下顺序读取配置文件：\n\n1. **`/etc/zsh/zshenv`**  用于设置系统级别的 **环境变量**\n2. **`~/.zshenv`**  用于用户级别 **环境变量**\n3. **`/etc/zsh/zprofile`**  用于放置系统中与登录时相关的命令\n4. **`~/.zprofile`**  用于放置用户中与登录时相关的命令\n5. **`/etc/zsh/zshrc`**  交互式终端会加载这个系统级配置文件，通常放置 **主题、别名、强化、函数和其他自定义设置**\n6. **`~/.zshrc`**  交互式终端会加载这个用户级配置文件，通常放置 **主题、别名、强化、函数和其他自定义设置**\n7. **`/etc/zsh/zlogin`**  在 `shell` 完全启动后执行的系统级别文件，通常放置用户希望在 **登录完成后执行的命令**\n8. **`~/.zlogin`**  在 `shell` 完全启动后执行的用户级别文件，通常放置用户希望在 **登录完成后执行的命令**\n9. `/etc/zsh/zlogout` 类似\n10. `/.zlogout` 类似\n\n>   `/etc/prifile` 用于防止兼容中与登录时相关的命令（有的不加载，这只是做兼容）\n\n### 2. 退出登录时：\n当 zsh 作为登录 shell 退出时，以下文件按顺序执行：\n\n1. **`/etc/zsh/zlogout`**  \n   - 系统级别的登出脚本，执行一些清理任务。\n\n2. **`~/.zlogout`**  \n   - 用户级别的登出脚本，用于执行清理或记录退出时的操作。\n\n### 3. 非登录 shell 启动时：\n如果 zsh 作为非登录的交互式 shell 启动（例如打开新终端窗口），则会跳过 `zprofile` 和 `zlogin`，按以下顺序执行：\n\n1. **`/etc/zsh/zshenv`**  \n2. **`~/.zshenv`**  \n3. **`/etc/zsh/zshrc`**  \n4. **`~/.zshrc`**\n\n\n\n[zsh 安装与配置：9步打造高效命令行 - HackerNeo](https://www.hackerneo.com/blog/dev-tools/better-use-terminal-with-zsh#安装-oh-my-zsh)\n\n\n\n[X-CMD | 开源轻量级 POSIX 脚本，用于管理工具 (500+) 和提供经典命令扩展](https://cn.x-cmd.com/)\n\n\n\n[🚀 入门指南 | LazyVim](https://lazyvim-github-io.vercel.app/zh-Hans/)\n\nyazi\n\n\n\ntrmp","excerpt":"","includedFiles":[],"tasklistId":0,"title":"","headers":[{"level":3,"title":"1. 登录 shell 启动时：","slug":"_1-登录-shell-启动时","link":"#_1-登录-shell-启动时","children":[]},{"level":3,"title":"2. 退出登录时：","slug":"_2-退出登录时","link":"#_2-退出登录时","children":[]},{"level":3,"title":"3. 非登录 shell 启动时：","slug":"_3-非登录-shell-启动时","link":"#_3-非登录-shell-启动时","children":[]}]}}
