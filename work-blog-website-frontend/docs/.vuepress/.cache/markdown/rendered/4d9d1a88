{"content":"<p>如果只使用 <code v-pre>root</code> 用户，就存在安全隐患，这点在 <code v-pre>Linux</code> 系统本身就体现出来了，<code v-pre>MySQL</code> 也有类似的问题，因此也有自己的账户管理。</p>\n<p>我们前面铺垫过一个事情，<code v-pre>MySQL</code> 本质是在管理一些表的相关文件，文件在 <code v-pre>Linux</code> 中怎么区分用户？那不就是调用 <code v-pre>Linux</code> 本身的文件权限等接口么？</p>\n<div class=\"language-sql line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"sql\" style=\"--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212\"><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code class=\"language-sql\"><span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"># MySQL 的用户表</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">mysql</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">></span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> use</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> mysql;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">Reading </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">table</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> information </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">for</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> completion of </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">table</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> and</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> column names</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">You can turn </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">off</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> this feature </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">to</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> get</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> a quicker startup </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">with</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\"> -</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">A</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">Database</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> changed</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">mysql</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">></span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> show tables;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">+</span><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">---------------------------+</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">| Tables_in_mysql           |</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">+</span><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">---------------------------+</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">| user                      |</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">| ...                       |</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">+</span><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">---------------------------+</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">31</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> rows</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> in</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> set</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> (</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">0</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">00</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> sec)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">mysql</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">></span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> select</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\"> *</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> from</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> user\\G</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"># ...</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p><code v-pre>MySQL</code> 的用户本身也是以一个表的形式来管理的，而创建用户实际上就是插入用户的名字、权限、密码插入到 <code v-pre>user</code> 中（最简单粗暴的做法也是这样的，但是一般没必要）。</p>\n<p>之后要提到的相关命令，往深处也是对 <code v-pre>user</code> 表做增删查改。</p>\n<div class=\"language-sql line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"sql\" style=\"--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212\"><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code class=\"language-sql\"><span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"># MySQL 用户语法</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"># (</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">1</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">)重新加载授权表</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">FLUSH PRIVILEGES;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"># (</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">2</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">)创建用户</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">CREATE</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> USER</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> '</span><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">user_name</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">'@</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">登录主机/ip</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> IDENTIFIED </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">BY</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\"> '</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">password</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">; # 如果是 </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">Windows</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> 是不行的，</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">Windows</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> 的是私有 IP，设置为具体 IP 是没有意义的，因此有些时候会使用 %，但是一般也不使用 %</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"># (</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">3</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">)删除用户</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">DROP</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> USER</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\"> '</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">user_name</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">@</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">登录主机/ip</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"># (</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">4</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">)修改用户的密码</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">ALTER</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> USER</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\"> '</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">username</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">@</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">host</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> IDENTIFIED </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">BY</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\"> '</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">new_password</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">UPDATE</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> USER </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">SET</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> authentication_string</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">=</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">password</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">(</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">new_password</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">) </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">where</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> user</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">=</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">user_name</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">; </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">SET</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> password</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">=</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">password</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">(</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">new_password</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">); # 只设置当前用户密码</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">SET</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> PASSWORD</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> for</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\"> '</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">user_name</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">@</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">主机名</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">=</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">password</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">(</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">new_password</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"># (</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">5</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">)查看当前用户</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">SELECT</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> USER</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">()</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">;</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><blockquote>\n<p>补充：<code v-pre>MySQL</code> 对密码的管理是会进行明文加密的。</p>\n</blockquote>\n<h1 id=\"_2-mysql-的权限列表\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_2-mysql-的权限列表\"><span>2.MySQL 的权限列表</span></a></h1>\n<table>\n<thead>\n<tr>\n<th>权限</th>\n<th>列名</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>CREATE</td>\n<td><code v-pre>Create_priv</code></td>\n<td>数据库、表或索引</td>\n</tr>\n<tr>\n<td>DROP</td>\n<td><code v-pre>Drop_priv</code></td>\n<td>数据库或表</td>\n</tr>\n<tr>\n<td>GRANT OPTION</td>\n<td><code v-pre>Grant_priv</code></td>\n<td>数据库、表或索引权限的授权</td>\n</tr>\n<tr>\n<td>REFERENCES</td>\n<td><code v-pre>References_priv</code></td>\n<td>数据库或表</td>\n</tr>\n<tr>\n<td>ALTER</td>\n<td><code v-pre>Alter_priv</code></td>\n<td>表</td>\n</tr>\n<tr>\n<td>DELETE</td>\n<td><code v-pre>Delete_priv</code></td>\n<td>表</td>\n</tr>\n<tr>\n<td>INDEX</td>\n<td><code v-pre>Index_priv</code></td>\n<td>表</td>\n</tr>\n<tr>\n<td>INSERT</td>\n<td><code v-pre>Insert_priv</code></td>\n<td>表</td>\n</tr>\n<tr>\n<td>SELECT</td>\n<td><code v-pre>Select_priv</code></td>\n<td>表</td>\n</tr>\n<tr>\n<td>UPDATE</td>\n<td><code v-pre>Update_priv</code></td>\n<td>表</td>\n</tr>\n<tr>\n<td>CREATE VIEW</td>\n<td><code v-pre>Create_view_priv</code></td>\n<td>视图</td>\n</tr>\n<tr>\n<td>SHOW VIEW</td>\n<td><code v-pre>Show_view_priv</code></td>\n<td>视图</td>\n</tr>\n<tr>\n<td>ALTER ROUTINE</td>\n<td><code v-pre>Alter_routine_priv</code></td>\n<td>存储的程序</td>\n</tr>\n<tr>\n<td>CREATE ROUTINE</td>\n<td><code v-pre>Create_routine_priv</code></td>\n<td>存储的程序</td>\n</tr>\n<tr>\n<td>EXECUTE</td>\n<td><code v-pre>Execute_priv</code></td>\n<td>存储的程序</td>\n</tr>\n<tr>\n<td>FILE</td>\n<td><code v-pre>File_priv</code></td>\n<td>服务器主机上的文件访问</td>\n</tr>\n<tr>\n<td>CREATE TEMPORARY TABLES</td>\n<td><code v-pre>Create_tmp_table_priv</code></td>\n<td>临时表</td>\n</tr>\n<tr>\n<td>LOCK TABLES</td>\n<td><code v-pre>Lock_tables_priv</code></td>\n<td>表的锁定</td>\n</tr>\n<tr>\n<td>CREATE USER</td>\n<td><code v-pre>Create_user_priv</code></td>\n<td>用户帐号</td>\n</tr>\n<tr>\n<td>PROCESS</td>\n<td><code v-pre>Process_priv</code></td>\n<td>进程信息</td>\n</tr>\n<tr>\n<td>RELOAD</td>\n<td><code v-pre>Reload_priv</code></td>\n<td>服务器的重载</td>\n</tr>\n<tr>\n<td>REPLICATION CLIENT</td>\n<td><code v-pre>Repl_client_priv</code></td>\n<td>复制客户端</td>\n</tr>\n<tr>\n<td>REPLICATION SLAVE</td>\n<td><code v-pre>Repl_slave_priv</code></td>\n<td>复制从库</td>\n</tr>\n<tr>\n<td>SHOW DATABASES</td>\n<td><code v-pre>Show_db_priv</code></td>\n<td>数据库列表</td>\n</tr>\n<tr>\n<td>SHUTDOWN</td>\n<td><code v-pre>Shutdown_priv</code></td>\n<td>服务器的关闭</td>\n</tr>\n<tr>\n<td>SUPER</td>\n<td><code v-pre>Super_priv</code></td>\n<td>超级权限</td>\n</tr>\n</tbody>\n</table>\n<p>刚刚创建的用户没有任何权限，需要 <code v-pre>root</code> 使用 <code v-pre>GRANT 权限列表 ON 库.对象名 TO '用户名'@'登陆位置' [IDENTIFIED BY '密码']</code> 来赋予。</p>\n<ul>\n<li>\n<p><code v-pre>GRANT</code>：权限列表，用多个权限用逗号分开</p>\n<div class=\"language-sql line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"sql\" style=\"--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212\"><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code class=\"language-sql\"><span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"># 权限列表</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">grant</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> select</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> on</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> ...</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">grant</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> select</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">, </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">delete</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">, </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">create</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> on</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> ....</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">grant</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> all [privileges] </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">on</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> ... # 表示赋予该用户在该对象上的所有权限</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></li>\n<li>\n<p>*.* ：代表本系统中的所有数据库的所有对象（表，视图，存储过程等）</p>\n</li>\n<li>\n<p>库.*：表示某个数据库中的所有数据对象（表，视图，存储过程等）</p>\n</li>\n<li>\n<p><code v-pre>IDENTIFIED BY</code> ：可选，如果用户存在，赋予权限的同时修改密码，如果该用户不存在，就会创建用户并且设置对应的密码</p>\n</li>\n</ul>\n<p>而可以使用 <code v-pre>REVOKE 权限列表 ON 库.对象名 FROM 'user_name'@'登陆位置'；</code> 回收权限。</p>\n","env":{"base":"/","filePath":"/home/ljp/git/work/work-blog-website/work-blog-website-frontend/docs/4.业务服务/2.存储服务/011_ljp_2024_03_06_用户管理.md","filePathRelative":"4.业务服务/2.存储服务/011_ljp_2024_03_06_用户管理.md","frontmatter":{"createTime":"2025/06/21 15:33:57","permalink":"/4.业务服务/umkzcwjw/","title":"1.MySQL 的权限语法"},"sfcBlocks":{"template":{"type":"template","content":"<template><p>如果只使用 <code v-pre>root</code> 用户，就存在安全隐患，这点在 <code v-pre>Linux</code> 系统本身就体现出来了，<code v-pre>MySQL</code> 也有类似的问题，因此也有自己的账户管理。</p>\n<p>我们前面铺垫过一个事情，<code v-pre>MySQL</code> 本质是在管理一些表的相关文件，文件在 <code v-pre>Linux</code> 中怎么区分用户？那不就是调用 <code v-pre>Linux</code> 本身的文件权限等接口么？</p>\n<div class=\"language-sql line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"sql\" style=\"--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212\"><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code class=\"language-sql\"><span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"># MySQL 的用户表</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">mysql</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">></span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> use</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> mysql;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">Reading </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">table</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> information </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">for</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> completion of </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">table</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> and</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> column names</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">You can turn </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">off</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> this feature </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">to</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> get</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> a quicker startup </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">with</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\"> -</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">A</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">Database</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> changed</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">mysql</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">></span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> show tables;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">+</span><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">---------------------------+</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">| Tables_in_mysql           |</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">+</span><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">---------------------------+</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">| user                      |</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">| ...                       |</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">+</span><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">---------------------------+</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">31</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> rows</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> in</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> set</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> (</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">0</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">00</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> sec)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">mysql</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">></span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> select</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\"> *</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> from</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> user\\G</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"># ...</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p><code v-pre>MySQL</code> 的用户本身也是以一个表的形式来管理的，而创建用户实际上就是插入用户的名字、权限、密码插入到 <code v-pre>user</code> 中（最简单粗暴的做法也是这样的，但是一般没必要）。</p>\n<p>之后要提到的相关命令，往深处也是对 <code v-pre>user</code> 表做增删查改。</p>\n<div class=\"language-sql line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"sql\" style=\"--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212\"><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code class=\"language-sql\"><span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"># MySQL 用户语法</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"># (</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">1</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">)重新加载授权表</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">FLUSH PRIVILEGES;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"># (</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">2</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">)创建用户</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">CREATE</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> USER</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> '</span><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">user_name</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">'@</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">登录主机/ip</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> IDENTIFIED </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">BY</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\"> '</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">password</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">; # 如果是 </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">Windows</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> 是不行的，</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">Windows</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> 的是私有 IP，设置为具体 IP 是没有意义的，因此有些时候会使用 %，但是一般也不使用 %</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"># (</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">3</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">)删除用户</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">DROP</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> USER</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\"> '</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">user_name</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">@</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">登录主机/ip</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"># (</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">4</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">)修改用户的密码</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">ALTER</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> USER</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\"> '</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">username</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">@</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">host</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> IDENTIFIED </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">BY</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\"> '</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">new_password</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">UPDATE</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> USER </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">SET</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> authentication_string</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">=</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">password</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">(</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">new_password</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">) </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">where</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> user</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">=</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">user_name</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">; </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">SET</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> password</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">=</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">password</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">(</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">new_password</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">); # 只设置当前用户密码</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">SET</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> PASSWORD</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> for</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\"> '</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">user_name</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">@</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">主机名</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">=</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">password</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">(</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">new_password</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"># (</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">5</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">)查看当前用户</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">SELECT</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> USER</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">()</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">;</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><blockquote>\n<p>补充：<code v-pre>MySQL</code> 对密码的管理是会进行明文加密的。</p>\n</blockquote>\n<h1 id=\"_2-mysql-的权限列表\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_2-mysql-的权限列表\"><span>2.MySQL 的权限列表</span></a></h1>\n<table>\n<thead>\n<tr>\n<th>权限</th>\n<th>列名</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>CREATE</td>\n<td><code v-pre>Create_priv</code></td>\n<td>数据库、表或索引</td>\n</tr>\n<tr>\n<td>DROP</td>\n<td><code v-pre>Drop_priv</code></td>\n<td>数据库或表</td>\n</tr>\n<tr>\n<td>GRANT OPTION</td>\n<td><code v-pre>Grant_priv</code></td>\n<td>数据库、表或索引权限的授权</td>\n</tr>\n<tr>\n<td>REFERENCES</td>\n<td><code v-pre>References_priv</code></td>\n<td>数据库或表</td>\n</tr>\n<tr>\n<td>ALTER</td>\n<td><code v-pre>Alter_priv</code></td>\n<td>表</td>\n</tr>\n<tr>\n<td>DELETE</td>\n<td><code v-pre>Delete_priv</code></td>\n<td>表</td>\n</tr>\n<tr>\n<td>INDEX</td>\n<td><code v-pre>Index_priv</code></td>\n<td>表</td>\n</tr>\n<tr>\n<td>INSERT</td>\n<td><code v-pre>Insert_priv</code></td>\n<td>表</td>\n</tr>\n<tr>\n<td>SELECT</td>\n<td><code v-pre>Select_priv</code></td>\n<td>表</td>\n</tr>\n<tr>\n<td>UPDATE</td>\n<td><code v-pre>Update_priv</code></td>\n<td>表</td>\n</tr>\n<tr>\n<td>CREATE VIEW</td>\n<td><code v-pre>Create_view_priv</code></td>\n<td>视图</td>\n</tr>\n<tr>\n<td>SHOW VIEW</td>\n<td><code v-pre>Show_view_priv</code></td>\n<td>视图</td>\n</tr>\n<tr>\n<td>ALTER ROUTINE</td>\n<td><code v-pre>Alter_routine_priv</code></td>\n<td>存储的程序</td>\n</tr>\n<tr>\n<td>CREATE ROUTINE</td>\n<td><code v-pre>Create_routine_priv</code></td>\n<td>存储的程序</td>\n</tr>\n<tr>\n<td>EXECUTE</td>\n<td><code v-pre>Execute_priv</code></td>\n<td>存储的程序</td>\n</tr>\n<tr>\n<td>FILE</td>\n<td><code v-pre>File_priv</code></td>\n<td>服务器主机上的文件访问</td>\n</tr>\n<tr>\n<td>CREATE TEMPORARY TABLES</td>\n<td><code v-pre>Create_tmp_table_priv</code></td>\n<td>临时表</td>\n</tr>\n<tr>\n<td>LOCK TABLES</td>\n<td><code v-pre>Lock_tables_priv</code></td>\n<td>表的锁定</td>\n</tr>\n<tr>\n<td>CREATE USER</td>\n<td><code v-pre>Create_user_priv</code></td>\n<td>用户帐号</td>\n</tr>\n<tr>\n<td>PROCESS</td>\n<td><code v-pre>Process_priv</code></td>\n<td>进程信息</td>\n</tr>\n<tr>\n<td>RELOAD</td>\n<td><code v-pre>Reload_priv</code></td>\n<td>服务器的重载</td>\n</tr>\n<tr>\n<td>REPLICATION CLIENT</td>\n<td><code v-pre>Repl_client_priv</code></td>\n<td>复制客户端</td>\n</tr>\n<tr>\n<td>REPLICATION SLAVE</td>\n<td><code v-pre>Repl_slave_priv</code></td>\n<td>复制从库</td>\n</tr>\n<tr>\n<td>SHOW DATABASES</td>\n<td><code v-pre>Show_db_priv</code></td>\n<td>数据库列表</td>\n</tr>\n<tr>\n<td>SHUTDOWN</td>\n<td><code v-pre>Shutdown_priv</code></td>\n<td>服务器的关闭</td>\n</tr>\n<tr>\n<td>SUPER</td>\n<td><code v-pre>Super_priv</code></td>\n<td>超级权限</td>\n</tr>\n</tbody>\n</table>\n<p>刚刚创建的用户没有任何权限，需要 <code v-pre>root</code> 使用 <code v-pre>GRANT 权限列表 ON 库.对象名 TO '用户名'@'登陆位置' [IDENTIFIED BY '密码']</code> 来赋予。</p>\n<ul>\n<li>\n<p><code v-pre>GRANT</code>：权限列表，用多个权限用逗号分开</p>\n<div class=\"language-sql line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"sql\" style=\"--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212\"><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code class=\"language-sql\"><span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"># 权限列表</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">grant</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> select</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> on</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> ...</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">grant</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> select</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">, </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">delete</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">, </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">create</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> on</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> ....</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">grant</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> all [privileges] </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">on</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> ... # 表示赋予该用户在该对象上的所有权限</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></li>\n<li>\n<p>*.* ：代表本系统中的所有数据库的所有对象（表，视图，存储过程等）</p>\n</li>\n<li>\n<p>库.*：表示某个数据库中的所有数据对象（表，视图，存储过程等）</p>\n</li>\n<li>\n<p><code v-pre>IDENTIFIED BY</code> ：可选，如果用户存在，赋予权限的同时修改密码，如果该用户不存在，就会创建用户并且设置对应的密码</p>\n</li>\n</ul>\n<p>而可以使用 <code v-pre>REVOKE 权限列表 ON 库.对象名 FROM 'user_name'@'登陆位置'；</code> 回收权限。</p>\n</template>","contentStripped":"<p>如果只使用 <code v-pre>root</code> 用户，就存在安全隐患，这点在 <code v-pre>Linux</code> 系统本身就体现出来了，<code v-pre>MySQL</code> 也有类似的问题，因此也有自己的账户管理。</p>\n<p>我们前面铺垫过一个事情，<code v-pre>MySQL</code> 本质是在管理一些表的相关文件，文件在 <code v-pre>Linux</code> 中怎么区分用户？那不就是调用 <code v-pre>Linux</code> 本身的文件权限等接口么？</p>\n<div class=\"language-sql line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"sql\" style=\"--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212\"><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code class=\"language-sql\"><span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"># MySQL 的用户表</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">mysql</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">></span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> use</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> mysql;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">Reading </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">table</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> information </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">for</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> completion of </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">table</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> and</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> column names</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">You can turn </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">off</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> this feature </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">to</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> get</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> a quicker startup </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">with</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\"> -</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">A</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">Database</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> changed</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">mysql</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">></span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> show tables;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">+</span><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">---------------------------+</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">| Tables_in_mysql           |</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">+</span><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">---------------------------+</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">| user                      |</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">| ...                       |</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">+</span><span style=\"--shiki-light:#A0ADA0;--shiki-dark:#758575DD\">---------------------------+</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">31</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> rows</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> in</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> set</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> (</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">0</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">.</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">00</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> sec)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">mysql</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">></span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> select</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\"> *</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> from</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> user\\G</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"># ...</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><p><code v-pre>MySQL</code> 的用户本身也是以一个表的形式来管理的，而创建用户实际上就是插入用户的名字、权限、密码插入到 <code v-pre>user</code> 中（最简单粗暴的做法也是这样的，但是一般没必要）。</p>\n<p>之后要提到的相关命令，往深处也是对 <code v-pre>user</code> 表做增删查改。</p>\n<div class=\"language-sql line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"sql\" style=\"--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212\"><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code class=\"language-sql\"><span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"># MySQL 用户语法</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"># (</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">1</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">)重新加载授权表</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">FLUSH PRIVILEGES;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"># (</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">2</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">)创建用户</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">CREATE</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> USER</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> '</span><span style=\"--shiki-light:#59873A;--shiki-dark:#80A665\">user_name</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">'@</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">登录主机/ip</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> IDENTIFIED </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">BY</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\"> '</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">password</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">; # 如果是 </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">Windows</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> 是不行的，</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">Windows</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> 的是私有 IP，设置为具体 IP 是没有意义的，因此有些时候会使用 %，但是一般也不使用 %</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"># (</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">3</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">)删除用户</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">DROP</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> USER</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\"> '</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">user_name</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">@</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">登录主机/ip</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"># (</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">4</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">)修改用户的密码</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">ALTER</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> USER</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\"> '</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">username</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">@</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">host</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> IDENTIFIED </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">BY</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\"> '</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">new_password</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">UPDATE</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> USER </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">SET</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> authentication_string</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">=</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">password</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">(</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">new_password</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">) </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">where</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> user</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">=</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">user_name</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">; </span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">SET</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> password</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">=</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">password</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">(</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">new_password</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">); # 只设置当前用户密码</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">SET</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> PASSWORD</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> for</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\"> '</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">user_name</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">@</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">主机名</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#AB5959;--shiki-dark:#CB7676\">=</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">password</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">(</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#B56959;--shiki-dark:#C98A7D\">new_password</span><span style=\"--shiki-light:#B5695977;--shiki-dark:#C98A7D77\">'</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">);</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"># (</span><span style=\"--shiki-light:#2F798A;--shiki-dark:#4C9A91\">5</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">)查看当前用户</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">SELECT</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> USER</span><span style=\"--shiki-light:#999999;--shiki-dark:#666666\">()</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">;</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div><blockquote>\n<p>补充：<code v-pre>MySQL</code> 对密码的管理是会进行明文加密的。</p>\n</blockquote>\n<h1 id=\"_2-mysql-的权限列表\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#_2-mysql-的权限列表\"><span>2.MySQL 的权限列表</span></a></h1>\n<table>\n<thead>\n<tr>\n<th>权限</th>\n<th>列名</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>CREATE</td>\n<td><code v-pre>Create_priv</code></td>\n<td>数据库、表或索引</td>\n</tr>\n<tr>\n<td>DROP</td>\n<td><code v-pre>Drop_priv</code></td>\n<td>数据库或表</td>\n</tr>\n<tr>\n<td>GRANT OPTION</td>\n<td><code v-pre>Grant_priv</code></td>\n<td>数据库、表或索引权限的授权</td>\n</tr>\n<tr>\n<td>REFERENCES</td>\n<td><code v-pre>References_priv</code></td>\n<td>数据库或表</td>\n</tr>\n<tr>\n<td>ALTER</td>\n<td><code v-pre>Alter_priv</code></td>\n<td>表</td>\n</tr>\n<tr>\n<td>DELETE</td>\n<td><code v-pre>Delete_priv</code></td>\n<td>表</td>\n</tr>\n<tr>\n<td>INDEX</td>\n<td><code v-pre>Index_priv</code></td>\n<td>表</td>\n</tr>\n<tr>\n<td>INSERT</td>\n<td><code v-pre>Insert_priv</code></td>\n<td>表</td>\n</tr>\n<tr>\n<td>SELECT</td>\n<td><code v-pre>Select_priv</code></td>\n<td>表</td>\n</tr>\n<tr>\n<td>UPDATE</td>\n<td><code v-pre>Update_priv</code></td>\n<td>表</td>\n</tr>\n<tr>\n<td>CREATE VIEW</td>\n<td><code v-pre>Create_view_priv</code></td>\n<td>视图</td>\n</tr>\n<tr>\n<td>SHOW VIEW</td>\n<td><code v-pre>Show_view_priv</code></td>\n<td>视图</td>\n</tr>\n<tr>\n<td>ALTER ROUTINE</td>\n<td><code v-pre>Alter_routine_priv</code></td>\n<td>存储的程序</td>\n</tr>\n<tr>\n<td>CREATE ROUTINE</td>\n<td><code v-pre>Create_routine_priv</code></td>\n<td>存储的程序</td>\n</tr>\n<tr>\n<td>EXECUTE</td>\n<td><code v-pre>Execute_priv</code></td>\n<td>存储的程序</td>\n</tr>\n<tr>\n<td>FILE</td>\n<td><code v-pre>File_priv</code></td>\n<td>服务器主机上的文件访问</td>\n</tr>\n<tr>\n<td>CREATE TEMPORARY TABLES</td>\n<td><code v-pre>Create_tmp_table_priv</code></td>\n<td>临时表</td>\n</tr>\n<tr>\n<td>LOCK TABLES</td>\n<td><code v-pre>Lock_tables_priv</code></td>\n<td>表的锁定</td>\n</tr>\n<tr>\n<td>CREATE USER</td>\n<td><code v-pre>Create_user_priv</code></td>\n<td>用户帐号</td>\n</tr>\n<tr>\n<td>PROCESS</td>\n<td><code v-pre>Process_priv</code></td>\n<td>进程信息</td>\n</tr>\n<tr>\n<td>RELOAD</td>\n<td><code v-pre>Reload_priv</code></td>\n<td>服务器的重载</td>\n</tr>\n<tr>\n<td>REPLICATION CLIENT</td>\n<td><code v-pre>Repl_client_priv</code></td>\n<td>复制客户端</td>\n</tr>\n<tr>\n<td>REPLICATION SLAVE</td>\n<td><code v-pre>Repl_slave_priv</code></td>\n<td>复制从库</td>\n</tr>\n<tr>\n<td>SHOW DATABASES</td>\n<td><code v-pre>Show_db_priv</code></td>\n<td>数据库列表</td>\n</tr>\n<tr>\n<td>SHUTDOWN</td>\n<td><code v-pre>Shutdown_priv</code></td>\n<td>服务器的关闭</td>\n</tr>\n<tr>\n<td>SUPER</td>\n<td><code v-pre>Super_priv</code></td>\n<td>超级权限</td>\n</tr>\n</tbody>\n</table>\n<p>刚刚创建的用户没有任何权限，需要 <code v-pre>root</code> 使用 <code v-pre>GRANT 权限列表 ON 库.对象名 TO '用户名'@'登陆位置' [IDENTIFIED BY '密码']</code> 来赋予。</p>\n<ul>\n<li>\n<p><code v-pre>GRANT</code>：权限列表，用多个权限用逗号分开</p>\n<div class=\"language-sql line-numbers-mode\" data-highlighter=\"shiki\" data-ext=\"sql\" style=\"--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212\"><pre class=\"shiki shiki-themes vitesse-light vitesse-dark vp-code\" v-pre=\"\"><code class=\"language-sql\"><span class=\"line\"><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"># 权限列表</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">grant</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> select</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> on</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> ...</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">grant</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> select</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">, </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">delete</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\">, </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">create</span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\"> on</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> ....</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">grant</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> all [privileges] </span><span style=\"--shiki-light:#1E754F;--shiki-dark:#4D9375\">on</span><span style=\"--shiki-light:#393A34;--shiki-dark:#DBD7CAEE\"> ... # 表示赋予该用户在该对象上的所有权限</span></span></code></pre>\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div></div></li>\n<li>\n<p>*.* ：代表本系统中的所有数据库的所有对象（表，视图，存储过程等）</p>\n</li>\n<li>\n<p>库.*：表示某个数据库中的所有数据对象（表，视图，存储过程等）</p>\n</li>\n<li>\n<p><code v-pre>IDENTIFIED BY</code> ：可选，如果用户存在，赋予权限的同时修改密码，如果该用户不存在，就会创建用户并且设置对应的密码</p>\n</li>\n</ul>\n<p>而可以使用 <code v-pre>REVOKE 权限列表 ON 库.对象名 FROM 'user_name'@'登陆位置'；</code> 回收权限。</p>\n","tagOpen":"<template>","tagClose":"</template>"},"script":null,"scriptSetup":null,"scripts":[],"styles":[],"customBlocks":[]},"content":"\n如果只使用 `root` 用户，就存在安全隐患，这点在 `Linux` 系统本身就体现出来了，`MySQL` 也有类似的问题，因此也有自己的账户管理。\n\n我们前面铺垫过一个事情，`MySQL` 本质是在管理一些表的相关文件，文件在 `Linux` 中怎么区分用户？那不就是调用 `Linux` 本身的文件权限等接口么？\n\n```sql\n# MySQL 的用户表\nmysql> use mysql;\nReading table information for completion of table and column names\nYou can turn off this feature to get a quicker startup with -A\n\nDatabase changed\nmysql> show tables;\n+---------------------------+\n| Tables_in_mysql           |\n+---------------------------+\n| user                      |\n| ...                       |\n+---------------------------+\n31 rows in set (0.00 sec)\n\nmysql> select * from user\\G\n# ...\n```\n\n`MySQL` 的用户本身也是以一个表的形式来管理的，而创建用户实际上就是插入用户的名字、权限、密码插入到 `user` 中（最简单粗暴的做法也是这样的，但是一般没必要）。\n\n之后要提到的相关命令，往深处也是对 `user` 表做增删查改。\n\n```sql\n# MySQL 用户语法\n# (1)重新加载授权表\nFLUSH PRIVILEGES;\n# (2)创建用户\nCREATE USER 'user_name'@'登录主机/ip' IDENTIFIED BY 'password'; # 如果是 Windows 是不行的，Windows 的是私有 IP，设置为具体 IP 是没有意义的，因此有些时候会使用 %，但是一般也不使用 %\n# (3)删除用户\nDROP USER 'user_name'@'登录主机/ip';\n# (4)修改用户的密码\nALTER USER 'username'@'host' IDENTIFIED BY 'new_password';\nUPDATE USER SET authentication_string=password('new_password') where user='user_name'; \nSET password=password('new_password'); # 只设置当前用户密码\nSET PASSWORD for 'user_name'@'主机名'=password('new_password');\n# (5)查看当前用户\nSELECT USER();\n```\n\n>   补充：`MySQL` 对密码的管理是会进行明文加密的。\n\n# 2.MySQL 的权限列表\n\n| 权限                    | 列名                    | 作用                       |\n| ----------------------- | ----------------------- | -------------------------- |\n| CREATE                  | `Create_priv`           | 数据库、表或索引           |\n| DROP                    | `Drop_priv`             | 数据库或表                 |\n| GRANT OPTION            | `Grant_priv`            | 数据库、表或索引权限的授权 |\n| REFERENCES              | `References_priv`       | 数据库或表                 |\n| ALTER                   | `Alter_priv`            | 表                         |\n| DELETE                  | `Delete_priv`           | 表                         |\n| INDEX                   | `Index_priv`            | 表                         |\n| INSERT                  | `Insert_priv`           | 表                         |\n| SELECT                  | `Select_priv`           | 表                         |\n| UPDATE                  | `Update_priv`           | 表                         |\n| CREATE VIEW             | `Create_view_priv`      | 视图                       |\n| SHOW VIEW               | `Show_view_priv`        | 视图                       |\n| ALTER ROUTINE           | `Alter_routine_priv`    | 存储的程序                 |\n| CREATE ROUTINE          | `Create_routine_priv`   | 存储的程序                 |\n| EXECUTE                 | `Execute_priv`          | 存储的程序                 |\n| FILE                    | `File_priv`             | 服务器主机上的文件访问     |\n| CREATE TEMPORARY TABLES | `Create_tmp_table_priv` | 临时表                     |\n| LOCK TABLES             | `Lock_tables_priv`      | 表的锁定                   |\n| CREATE USER             | `Create_user_priv`      | 用户帐号                   |\n| PROCESS                 | `Process_priv`          | 进程信息                   |\n| RELOAD                  | `Reload_priv`           | 服务器的重载               |\n| REPLICATION CLIENT      | `Repl_client_priv`      | 复制客户端                 |\n| REPLICATION SLAVE       | `Repl_slave_priv`       | 复制从库                   |\n| SHOW DATABASES          | `Show_db_priv`          | 数据库列表                 |\n| SHUTDOWN                | `Shutdown_priv`         | 服务器的关闭               |\n| SUPER                   | `Super_priv`            | 超级权限                   |\n\n刚刚创建的用户没有任何权限，需要 `root` 使用 `GRANT 权限列表 ON 库.对象名 TO '用户名'@'登陆位置' [IDENTIFIED BY '密码']` 来赋予。\n\n-   `GRANT`：权限列表，用多个权限用逗号分开\n\n    ```sql\n    # 权限列表\n    grant select on ...\n    grant select, delete, create on ....\n    grant all [privileges] on ... # 表示赋予该用户在该对象上的所有权限\n    ```\n\n-   \\*.\\* ：代表本系统中的所有数据库的所有对象（表，视图，存储过程等）\n\n-   库.*：表示某个数据库中的所有数据对象（表，视图，存储过程等）\n\n-   `IDENTIFIED BY` ：可选，如果用户存在，赋予权限的同时修改密码，如果该用户不存在，就会创建用户并且设置对应的密码\n\n而可以使用 `REVOKE 权限列表 ON 库.对象名 FROM 'user_name'@'登陆位置'；` 回收权限。","excerpt":"","includedFiles":[],"tasklistId":0,"title":"2.MySQL 的权限列表","headers":[]}}
