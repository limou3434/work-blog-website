<template><div><h2 id="_1-平台概念" tabindex="-1"><a class="header-anchor" href="#_1-平台概念"><span>1.平台概念</span></a></h2>
<p><code v-pre>IntelliJ Platform, IntelliJ 平台</code> 是 <code v-pre>JetBrains</code> 开发的一款 <code v-pre>OSS, Open Source Software, 开源软件</code> 平台，用于构建 <code v-pre>IDE</code> 和能够感知编程语言的开发者工具。<code v-pre>IntelliJ IDEA、Android Studio、CUBA Studio、Cursive</code> 等众多工具都在使用它。 它基于 <code v-pre>Java</code> 构建，提供了一种跨平台方式来为任何语言构建工具，无论语言是否以 <code v-pre>JVM</code> 为目标。 它在 <a href="https://github.com/JetBrains/intellij-community/blob/master/LICENSE.txt" target="_blank" rel="noopener noreferrer">Apache 2.0</a> 许可证下提供，允许您创建免税版的商业和非商业产品，包括成熟的 <code v-pre>IDE</code> 和插件。</p>
<p><code v-pre>IntelliJ Platform</code> 与 <code v-pre>IntelliJ IDEA Community Edition</code> 有许多重叠的部分，后者是 <code v-pre>IntelliJ IDEA</code> 的免费开源版本。两个项目的源代码均 <a href="https://github.com/JetBrains/intellij-community" target="_blank" rel="noopener noreferrer">托管在 GitHub 上</a>。核心组件包括虚拟文件系统、文本编辑器、UI 框架、调试器和测试运行程序。平台还提供 <code v-pre>API</code>，用于构建对自定义语言和框架的支持，包括语法高亮显示、导航、代码补全、检查、意图、重构、调试器、测试运行程序、工具窗口、操作等，以及通用的词法分析器和解析器（可以快速理解为 <code v-pre>IntelliJ IDEA Community Edition</code> 是基于 <code v-pre>IntelliJ Platform</code> 上开发出来的实例产品）。</p>
<p><code v-pre>JetBrains</code> 托管了一个插件 <code v-pre>Marketplace</code>，其中的任何插件都可以发布并安装到基于该平台构建的 <code v-pre>IDE</code> 中。<a href="https://plugins.jetbrains.com/docs/intellij/welcome.html" target="_blank" rel="noopener noreferrer">开发者文档</a> 中提供了与 <a href="https://plugins.jetbrains.com/docs/intellij/intellij-platform.html" target="_blank" rel="noopener noreferrer">IntelliJ 平台</a> 有关的更多信息。</p>
<div class="hint-container important">
<p class="hint-container-title">重要</p>
<p>补充：关于框架和平台的差别。</p>
<ul>
<li><strong>Framework 框架</strong>
<ul>
<li>定义：一套代码库，帮你解决某一类问题，提供固定的调用方式</li>
<li>特点：
<ul>
<li>你写代码时 <strong>依赖框架</strong>（框架调用你的钩子，反转控制）</li>
<li>框架本身不一定能独立运行，它只是“帮你写应用”</li>
</ul>
</li>
<li>示例：<code v-pre>Spring Framework、Qt Framework</code></li>
<li>类比：像 <strong>房子的钢筋混凝土结构</strong>，你得在上面加东西（墙、门、窗）才能变成一个可用的建筑</li>
</ul>
</li>
<li><strong>Platform 平台</strong>
<ul>
<li>定义：一个运行环境 + 框架集合，别人可以在它上面 <strong>运行应用、扩展功能</strong></li>
<li>特点：
<ul>
<li>有自己的生命周期，可以单独运行</li>
<li>提供“二次开发接口”，允许别人扩展它</li>
<li>除了框架，还包含工具链、生态、市场</li>
</ul>
</li>
<li>示例：<code v-pre>Android Platform、.NET Platform、IntelliJ Platform</code></li>
<li>类比：像 <strong>一座已经建好的小区</strong>，不仅有房子骨架，还有道路、水电、商铺。你可以往里开店、装修、扩展</li>
</ul>
</li>
</ul>
</div>
<h2 id="_2-插件调研" tabindex="-1"><a class="header-anchor" href="#_2-插件调研"><span>2.插件调研</span></a></h2>
<p>本着“不要重复制作轮子”的开发理念，我们需要先通过 <code v-pre>AI</code>、搜索引擎、<a href="https://plugins.jetbrains.com/?_cl=MTsxOzE7dm5KZURWY0szRjBpZmF3ZlFjRGhoSXNad05qZzFjc1NSTjBXZE9TUlVKaUtPVnAzbmtNeXNPNERXUWF6WFZONTs%3D&amp;_cl=MTsxOzE7dm5KZURWY0szRjBpZmF3ZlFjRGhoSXNad05qZzFjc1NSTjBXZE9TUlVKaUtPVnAzbmtNeXNPNERXUWF6WFZONTs%3D" target="_blank" rel="noopener noreferrer">JetBrains Marketplace</a> 来寻找是否有和自己想要开发的插件类似的插件，如果没有我们就可以开始进行下一步了。</p>
<h2 id="_3-资料收集" tabindex="-1"><a class="header-anchor" href="#_3-资料收集"><span>3.资料收集</span></a></h2>
<p>这里有一些重要的资料是需要您过目的：</p>
<ul>
<li><a href="https://github.com/JetBrains/intellij-community" target="_blank" rel="noopener noreferrer">Intellij Platform 开源代码</a></li>
<li><a href="https://intellij-support.jetbrains.com/hc/en-us/community/topics/200366979-IntelliJ-IDEA-Open-API-and-Plugin-Development?_cl=MTsxOzE7dm5KZURWY0szRjBpZmF3ZlFjRGhoSXNad05qZzFjc1NSTjBXZE9TUlVKaUtPVnAzbmtNeXNPNERXUWF6WFZONTs=" target="_blank" rel="noopener noreferrer">Intellij Platform 旧的社区</a></li>
<li><a href="https://platform.jetbrains.com/" target="_blank" rel="noopener noreferrer">Intellij Platform 新的社区</a></li>
<li><a href="https://plugins.jetbrains.com/docs/intellij/welcome.html?_cl=MTsxOzE7dm5KZURWY0szRjBpZmF3ZlFjRGhoSXNad05qZzFjc1NSTjBXZE9TUlVKaUtPVnAzbmtNeXNPNERXUWF6WFZONTs=&amp;_cl=MTsxOzE7dm5KZURWY0szRjBpZmF3ZlFjRGhoSXNad05qZzFjc1NSTjBXZE9TUlVKaUtPVnAzbmtNeXNPNERXUWF6WFZONTs=" target="_blank" rel="noopener noreferrer">Intellij Platform 接口文档</a>
<ul>
<li><a href="https://plugins.jetbrains.com/docs/intellij/about.html" target="_blank" rel="noopener noreferrer">Intellij Platform 平台概念指南</a></li>
<li><a href="https://plugins.jetbrains.com/docs/intellij/plugins-quick-start.html" target="_blank" rel="noopener noreferrer">Intellij Platform 插件快速开发</a></li>
<li><a href="https://plugins.jetbrains.com/docs/intellij/developing-plugins.html" target="_blank" rel="noopener noreferrer">Intellij Platform 插件专业开发</a></li>
<li><a href="https://plugins.jetbrains.com/docs/intellij/themes-getting-started.html" target="_blank" rel="noopener noreferrer">Intellij Platform 主题专业开发</a></li>
</ul>
</li>
</ul>
<h2 id="_4-快速开发" tabindex="-1"><a class="header-anchor" href="#_4-快速开发"><span>4.快速开发</span></a></h2>
<p>快速开发一款插件，并且发布他是让人获取动力的最快渠道，我们首先来快速开发一个可以使用的插件，后期再把我们的想法添加进去。这里提供两个文档供您参考：</p>
<ul>
<li><a href="https://github.com/yangfeng20/idea-plugin-dev-guide/" target="_blank" rel="noopener noreferrer">其他开发者快速入门文档</a></li>
<li><a href="https://plugins.jetbrains.com/docs/intellij/plugins-quick-start.html" target="_blank" rel="noopener noreferrer">官方提供的快速入门文档</a></li>
</ul>
<h3 id="_4-1-所需技术" tabindex="-1"><a class="header-anchor" href="#_4-1-所需技术"><span>4.1.所需技术</span></a></h3>
<table>
<thead>
<tr>
<th>技能/概念</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td><code v-pre>Java/Kotlin/JVM</code></td>
<td>编写插件核心逻辑</td>
</tr>
<tr>
<td><code v-pre>Gradle/Maven</code></td>
<td>构建、依赖、发布</td>
</tr>
<tr>
<td><code v-pre>Swing</code></td>
<td>构建 <code v-pre>UI</code> 界面</td>
</tr>
<tr>
<td><code v-pre>Java</code> 并发</td>
<td>后台任务处理，保持 <code v-pre>IDE</code> 响应</td>
</tr>
<tr>
<td><code v-pre>IntelliJ</code> 使用经验</td>
<td>理解插件挂载点和用户体验</td>
</tr>
</tbody>
</table>
<h3 id="_4-2-明确类型" tabindex="-1"><a class="header-anchor" href="#_4-2-明确类型"><span>4.2.明确类型</span></a></h3>
<p>最常见的插件类型包括：</p>
<ul>
<li><strong>Custom language support 自定义语言支持</strong>：自定义语言支持为处理特定编程语言提供基本功能，插件也可以增强现有的（捆绑的）自定义语言，例如通过提供额外的检查、意图或任何其他功能。</li>
<li><strong>Framework integration 框架集成</strong>：框架集成包括针对特定框架的改进代码洞察功能，以及直接从 <code v-pre>IDE</code> 使用框架特定功能的选择。有时它还包括针对自定义语法或 <code v-pre>DSL</code> 的语言支持元素。</li>
<li><strong>Tool integration 工具集成</strong>：工具集成使得可以直接在 <code v-pre>IDE</code> 中操作第三方工具和组件，无需切换上下文。</li>
<li><strong>User interface add-ons 用户界面插件</strong>：这一类插件会对 <code v-pre>IDE</code> 的标准用户界面应用各种更改。一些新添加的组件是交互式的，提供新功能，而另一些则仅限于视觉修改。</li>
<li><strong>Themes 主题</strong>：主题为设计师提供了自定义内置 <code v-pre>IDE</code> 界面元素外观的能力。</li>
</ul>
<h3 id="_4-3-环境准备" tabindex="-1"><a class="header-anchor" href="#_4-3-环境准备"><span>4.3.环境准备</span></a></h3>
<p>需要查询自己 <code v-pre>IDE</code> 的环境版本，本文主要的开发环境是在 <code v-pre>IDEA</code> 中，这里以收费版的 <code v-pre>IDEA</code> 进行演示，版本号如下。</p>
<div class="language-markdown line-numbers-mode" data-highlighter="shiki" data-ext="markdown" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code class="language-markdown"><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">IntelliJ IDEA 2025.2.1 (Ultimate Edition)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">Build #IU-252.25557.131, built on August 28, 2025</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">Source revision: ee1e6cb62e111</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">授权给 Stanley Boyle</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">订阅有效期至 2026年8月4日。</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">For educational use only.</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">Runtime version: 21.0.8+9-b1038.68 amd64 (JCEF 122.1.9)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">Toolkit: sun.awt.X11.XToolkit</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">Linux 6.8.0-79-generic</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">Ubuntu 22.04.5 LTS; glibc: 2.35</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">GC: G1 Young Generation, G1 Concurrent GC, G1 Old Generation</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">Memory: 1960M</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">Cores: 16</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">Registry:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  ide.experimental.ui=true</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">Non-Bundled Plugins:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  JavaScriptDebugger (252.25557.178)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  com.intellij.notebooks.core (252.25557.135)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  com.github.wanniwa.EditorJumper (1.4.0)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  cn.haojiyou.CodeGlance3 (2.1.1-2021.1.3)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  com.github.izhangzhihao.intellijgooglesearch (0.0.2)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  com.github.xepozz.gitattributes (2025.0.60)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  Subversion (252.25557.175)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  com.lilittlecat.plugin.intellij-pangu (1.2.3)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  ru.adelf.idea.dotenv (252.23892.201)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  com.github.catppuccin.jetbrains (3.4.2)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  org.toml.lang (252.25557.135)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  IdeaTwitter (1.0.2)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  com.tfx.sudoku (1.07)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  com.intellij.drools (252.23892.360)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  com.leyongleshi.idea.plugin.pasteimageintomarkdown (1.6.3)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  com.intellij.properties (252.25557.135)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  com.intellij.velocity (252.25557.135)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  Key Promoter X (2024.2.2)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  ink.organics.pojo2json (2.1.2)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  Code Iris (2.5.0-beta)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  com.github.kisstkondoros.codemetrics (1.0.4)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  gudqs7.github.io.getter-setter-postfix (1.1.6)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  SequenceDiagram (4.0.5)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  AceJump (3.8.22)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  IdeaVIM (2.27.2)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  org.jetbrains.IdeaVim-EasyMotion (1.16)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  GrepConsole (13.3.0-IJ2023.3)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  intellij.jupyter (252.25557.135)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  com.bruce.intellijplugin.generatesetter (2.8.4)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  vanstudio.sequence.java (4.0.5)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  com.github.catppuccin.jetbrains_icons (1.12.0)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  com.apifox.uploader (2.0.14-243)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  JavaScript (252.25557.178)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  com.alibabacloud.intellij.cosy (2.5.16)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  com.nnthink.aixcoder (5.3.1-2024)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  com.intellij.react (252.25557.178)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  org.jetbrains.plugins.vue (252.25557.175)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  zielu.gittoolbox (600.1.10+243)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  io.github.godfather1103.alibaba.p3c (2.2-2024.3-2.1.1-ext-6)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  org.jetbrains.security.package-checker (252.25557.135)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  com.baomidou.plugin.idea.mybatisx (1.6.3)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">  cn.yiiguxing.plugin.translate (3.7.3)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">Kotlin: 252.25557.131-IJ</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">Current Desktop: ubuntu:GNOME</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这里还需要根据 <code v-pre>IDEA</code> 的版本以及 <a href="https://plugins.jetbrains.com/docs/intellij/developing-plugins.html#gradle-plugin" target="_blank" rel="noopener noreferrer">官方文档</a> 指引来安装两个插件：</p>
<ul>
<li><a href="https://plugins.jetbrains.com/plugin/22851-plugin-devkit" target="_blank" rel="noopener noreferrer">Plugin DevKit</a></li>
<li><a href="https://plugins.jetbrains.com/plugin/13112-gradle" target="_blank" rel="noopener noreferrer">Gradle</a></li>
</ul>
<h3 id="_4-4-新建项目" tabindex="-1"><a class="header-anchor" href="#_4-4-新建项目"><span>4.4.新建项目</span></a></h3>
<p>由于我需要支持较新版本的 <code v-pre>IDEA</code> 插件，应此这里我选择 <code v-pre>jdk21</code> 来创建插件项目，同时拉取项目依赖（这里的 <code v-pre>jdk</code> 其实有问题的...后面解决）。</p>
<figure><img src="@source/5.开发方向/6.插件开发/assets/image-20250907140812909.png" alt="image-20250907140812909" tabindex="0" loading="lazy"><figcaption>image-20250907140812909</figcaption></figure>
<figure><img src="@source/5.开发方向/6.插件开发/assets/image-20250907141026699.png" alt="image-20250907141026699" tabindex="0" loading="lazy"><figcaption>image-20250907141026699</figcaption></figure>
<figure><img src="@source/5.开发方向/6.插件开发/assets/image-20250907141421757.png" alt="image-20250907141421757" tabindex="0" loading="lazy"><figcaption>image-20250907141421757</figcaption></figure>
<div class="hint-container important">
<p class="hint-container-title">重要</p>
<p>补充：如果需要更换依赖拉取的源，则可以考虑修改 <code v-pre>build.gradle.kts</code> 中的 <code v-pre>repositories</code>，注释中央仓库 <code v-pre>mavenCentral</code>，配置为阿里云地址。</p>
<div class="language-kotlin line-numbers-mode" data-highlighter="shiki" data-ext="kotlin" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code class="language-kotlin"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">repositories</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">    // mavenCentral()</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">    maven</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> {</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        url </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> uri</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">(</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">"https://maven.aliyun.com/repository/public"</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    }</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div>
<p>然后我们需要先开始简单研究一下这个项目的主要目录结构。</p>
<div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code class="language-shell"><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">~</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">/git/edtechhub/work-diff-dev$ tree</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965">.</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">├──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> src</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> # 插件源代码</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">│  </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> └──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> main</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">│  </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">     ├──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> kotlin</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">│  </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">     │  </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> └──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> cn</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">│  </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">     │  </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">     └──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> com</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">│  </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">     │  </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">         └──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> edtechhub</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">│  </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">     │  </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">             └──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> workdiffdev</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">│  </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">     │  </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">                 └──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> workdiffdev</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">│  </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">     └──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> resources</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">│  </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">         └──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> META-INF</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">│  </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">             ├──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> pluginIcon.svg</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">│  </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">             └──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> plugin.xml</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">├──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> gradle</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> # Gradle 包装器</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">│  </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> └──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> wrapper</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">│  </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">     ├──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> gradle-wrapper.jar</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">│  </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">     └──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> gradle-wrapper.properties</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">├──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> build</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> # 最终的编译文件, 无需变动</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">│  </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> └──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> tmp</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">│  </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">     └──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> generateManifest</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">├──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> build.gradle.kts</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> # Gradle Kotlin DSL 构建脚本, 管理插件依赖、IDE 版本、Gradle 任务等</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">├──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> gradlew</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> # Linux/macOS 下的 Gradle 启动脚本</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">├──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> gradlew.bat</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> # Windows 下的 Gradle 启动脚本</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">├──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> gradle.properties</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> # 项目级 Gradle 配置, 可以写插件版本、IDE 版本等</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">├──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> settings.gradle.kts</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> # 项目设置文件, 一般声明项目名和多模块结构</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">└──</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> work-diff-dev.iml</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> # IntelliJ IDEA 项目文件, IDE 用来管理模块和依赖的</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">15</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> directories,</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91"> 10</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> files</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-5-修改配置" tabindex="-1"><a class="header-anchor" href="#_4-5-修改配置"><span>4.5.修改配置</span></a></h3>
<p>然后我们就需要做一些修改。</p>
<div class="language-kotlin line-numbers-mode" data-highlighter="shiki" data-ext="kotlin" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code class="language-kotlin"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">// Gradle 配置文件: https://plugins.jetbrains.com/docs/intellij/tools-gradle-intellij-plugin.html#ide-configuration</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">plugins</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">    id</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">(</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">"java"</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">)</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">    id</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">(</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">"org.jetbrains.kotlin.jvm"</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">) version </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">"2.1.0"</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">    id</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">(</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">"org.jetbrains.intellij.platform"</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">) version </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">"2.7.1"</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">group </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> "cn.com.edtechhub.workdiffdev"</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">version </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> "1.0-SNAPSHOT"</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">repositories</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">    mavenCentral</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">()</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">    intellijPlatform</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">        defaultRepositories</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">()</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    }</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">// Configure IntelliJ Platform Gradle Plugin</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">// Read more: https://plugins.jetbrains.com/docs/intellij/tools-intellij-platform-gradle-plugin.html</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">dependencies</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">    intellijPlatform</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">        create</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">(</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">"IC"</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">, </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">"2025.1.4.1"</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">)</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">        testFramework</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">(org.jetbrains.intellij.platform.gradle.TestFrameworkType.Platform)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">        // Add necessary plugin dependencies for compilation here, example:</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">        // bundledPlugin("com.intellij.java")</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    }</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">intellijPlatform</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">    pluginConfiguration</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">        ideaVersion</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> {</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">            sinceBuild </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> "251"</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        changeNotes </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> """</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">            Initial version</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">        """</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">trimIndent</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">()</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    }</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">tasks</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">    // Set the JVM compatibility versions</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">    withType</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">&#x3C;</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994">JavaCompile</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">> {</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        sourceCompatibility </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> "21"</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        targetCompatibility </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> "21"</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    }</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">kotlin</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">    compilerOptions</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> {</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        jvmTarget.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">set</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">(org.jetbrains.kotlin.gradle.dsl.JvmTarget.JVM_21)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    }</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code class="language-xml"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">&#x3C;!-- Plugin 配置文件: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html#useful-resources --></span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">&#x3C;!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html --></span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">&#x3C;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">idea-plugin</span><span style="--shiki-light:#999999;--shiki-dark:#666666">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">    &#x3C;!-- 插件唯一 ID --></span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">    &#x3C;!-- Plugin unique ID --></span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    &#x3C;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">id</span><span style="--shiki-light:#999999;--shiki-dark:#666666">></span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">cn.com.edtechhub.workdiffdev.work-diff-dev</span><span style="--shiki-light:#999999;--shiki-dark:#666666">&#x3C;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">id</span><span style="--shiki-light:#999999;--shiki-dark:#666666">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">    &#x3C;!-- 插件名称(大驼峰) --></span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">    &#x3C;!-- Public plugin name should be written in Title Case.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">         Guidelines: https://plugins.jetbrains.com/docs/marketplace/best-practices-for-listing.html#plugin-name --></span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    &#x3C;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">name</span><span style="--shiki-light:#999999;--shiki-dark:#666666">></span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">Work-Diff-Dev</span><span style="--shiki-light:#999999;--shiki-dark:#666666">&#x3C;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">name</span><span style="--shiki-light:#999999;--shiki-dark:#666666">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">    &#x3C;!-- 插件下载页面和作者相关信息 --></span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">    &#x3C;!-- A displayed Vendor name or Organization ID displayed on the Plugins Page. --></span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    &#x3C;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">vendor</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A"> email</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">llimou3434@gmail.com</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A"> url</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">https://github.com/limou3434/work-diff-dev</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#999999;--shiki-dark:#666666">></span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">work-diff-dev</span><span style="--shiki-light:#999999;--shiki-dark:#666666">&#x3C;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">vendor</span><span style="--shiki-light:#999999;--shiki-dark:#666666">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">    &#x3C;!-- 插件功能描述, 支持 HTML, 最好打大于 40 个字符 --></span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">    &#x3C;!-- Description of the plugin displayed on the Plugin Page and IDE Plugin Manager.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">         Guidelines: https://plugins.jetbrains.com/docs/marketplace/best-practices-for-listing.html#plugin-description --></span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    &#x3C;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">description</span><span style="--shiki-light:#999999;--shiki-dark:#666666">></span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">&#x3C;![CDATA[</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">        这是一个插件，用于辅助开发，如：</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">         1. xxxxxxxxxxxxxxxxxxxxxxx</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">         2. xxxxxxxxxxxxxxxxxxxxxxx</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">         3. xxxxxxxxxxxxxxxxxxxxxxx</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">         4. xxxxxxxxxxxxxxxxxxxxxxx</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">         5. xxxxxxxxxxxxxxxxxxxxxxx</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">         6. xxxxxxxxxxxxxxxxxxxxxxx</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">         7. xxxxxxxxxxxxxxxxxxxxxxx</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">         8. xxxxxxxxxxxxxxxxxxxxxxx</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">         9. xxxxxxxxxxxxxxxxxxxxxxx</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">    ]]></span><span style="--shiki-light:#999999;--shiki-dark:#666666">&#x3C;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">description</span><span style="--shiki-light:#999999;--shiki-dark:#666666">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">    &#x3C;!-- 插件相关平台, 插件依赖性质, 不过一般不需要使用 --></span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">    &#x3C;!-- Product and plugin compatibility requirements.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html --></span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    &#x3C;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">depends</span><span style="--shiki-light:#999999;--shiki-dark:#666666">></span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">com.intellij.modules.platform</span><span style="--shiki-light:#999999;--shiki-dark:#666666">&#x3C;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">depends</span><span style="--shiki-light:#999999;--shiki-dark:#666666">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">    &#x3C;!-- 插件拓展点 --></span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">    &#x3C;!-- Extension points defined by the plugin.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-extension-points.html --></span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    &#x3C;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">extensions</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A"> defaultExtensionNs</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">com.intellij</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    &#x3C;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">extensions</span><span style="--shiki-light:#999999;--shiki-dark:#666666">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">&#x3C;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">idea-plugin</span><span style="--shiki-light:#999999;--shiki-dark:#666666">></span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>而且，这里还建议把默认的 <code v-pre>src/main/kotlin/</code> 重命名为 <code v-pre>src/main/java/</code>，以防止一些奇怪的报错。然后可以重启下项目，重启后编译运行一下。</p>
<figure><img src="@source/5.开发方向/6.插件开发/assets/image-20250907160123539.png" alt="image-20250907160123539" tabindex="0" loading="lazy"><figcaption>image-20250907160123539</figcaption></figure>
<figure><img src="@source/5.开发方向/6.插件开发/assets/image-20250907155757853.png" alt="image-20250907155757853" tabindex="0" loading="lazy"><figcaption>image-20250907155757853</figcaption></figure>
<h3 id="_4-6-添加活动" tabindex="-1"><a class="header-anchor" href="#_4-6-添加活动"><span>4.6.添加活动</span></a></h3>
<p><code v-pre>IDEA</code> 中的 <code v-pre>action</code> 概念可以理解为任意一个动作，比如点击了某个按钮，就会执行它绑定的 <code v-pre>Action</code> 类的代码。使用 <code v-pre>Plugin DevKit</code> 就可以快速创建一个 <code v-pre>Action</code>，需要填写 <code v-pre>actionId</code>，类名，功能名称，功能描述，添加到目标位置。不过如果我们不修改为支持 <code v-pre>IntelliJ Platform</code> 的 <code v-pre>sdk</code> 将会出现各种问题（比如无法通过插件来自动建立 <code v-pre>Action</code>），原因是这个 <code v-pre>sdk</code> 是特别提供的。另外安装 <code v-pre>IDEA</code> 的时候就会自动携带，例如我使用 <code v-pre>Toolbox</code> 安装的 <code v-pre>IDEA</code> 就会有路径 <code v-pre>/home/ljp/.local/share/JetBrains/Toolbox/apps/intellij-idea-ultimate</code>。</p>
<div class="hint-container important">
<p class="hint-container-title">重要</p>
<p>补充：插件开发不能直接污染你正在用的 <code v-pre>IDEA</code>，所以 <code v-pre>DevKit</code> 会自动创建一个“沙盒环境”。默认路径就是 <code v-pre>~/.cache/JetBrains/IntelliJIdea2025.2/plugins-sandbox/</code>。以后你运行/调试插件时，它会启动一个 <strong>新的 IDEA 实例</strong>，并且只在这个沙盒里加载你的插件，不会影响你主力用的 <code v-pre>IDEA</code>。</p>
</div>
<div class="hint-container important">
<p class="hint-container-title">重要</p>
<p>补充：当你把 <code v-pre>IntelliJ IDEA</code> 的安装目录作为 <code v-pre>Plugin SDK</code> 配置进来时，<code v-pre>IDEA</code> 其实做了两件事：</p>
<ul>
<li>把 <code v-pre>IntelliJ</code> 的 <code v-pre>API</code> 库（在 <code v-pre>lib/</code> 里）挂进 <code v-pre>SDK</code></li>
<li>绑定 <code v-pre>IDEA</code> 自带的 <code v-pre>JBR, JetBrains Runtime</code> 作为 <code v-pre>JDK</code></li>
</ul>
<p>这个 <code v-pre>JBR</code> 就会在 <code v-pre>SDK</code> 视图里显示成一个 <strong>“内部 Java 平台 (Internal Java Platform)”</strong>。 它和你系统里单独安装的 <code v-pre>OpenJDK | Oracle JDK</code> 没区别，只是 <code v-pre>JetBrains</code> 官方维护的版本，针对 <code v-pre>IDEA</code> 做了一些优化。类似的选择一个 <code v-pre>Java</code> 版本就可以，这里我还是选择 <code v-pre>21</code> 的版本。</p>
</div>
<figure><img src="@source/5.开发方向/6.插件开发/assets/image-20250907200321333.png" alt="image-20250907200321333" tabindex="0" loading="lazy"><figcaption>image-20250907200321333</figcaption></figure>
<figure><img src="@source/5.开发方向/6.插件开发/assets/image-20250907201225028.png" alt="image-20250907201225028" tabindex="0" loading="lazy"><figcaption>image-20250907201225028</figcaption></figure>
<p>...不过我的版本可能太新了，就算是这么做也无法显示新建 <code v-pre>Action</code>，只能先自己手动建立试试看了。</p>
<div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code class="language-java"><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">&#x3C;!--</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> src</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">/</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">main</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">/</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">resources</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">/</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">META</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">INF</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">/</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">plugin</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">xml</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> 插件配置文件 </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">--></span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">&#x3C;!--</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> Plugin Configuration </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">File</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A"> Read</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> more</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> https</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">:</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">//plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html --></span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">&#x3C;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">idea</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">plugin</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    &#x3C;!--</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> 插件唯一 ID </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">--></span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    &#x3C;!--</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> Plugin unique ID </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">--></span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    &#x3C;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">id</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">></span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">cn</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">com</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">edtechhub</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">workdiffdev</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">work</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">diff</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">dev</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">&#x3C;/</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">id</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    &#x3C;!--</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> 插件名称</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">大驼峰</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> --></span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    &#x3C;!--</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> Public plugin name should be written in Title Case</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">         Guidelines</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> https</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">:</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">//plugins.jetbrains.com/docs/marketplace/best-practices-for-listing.html#plugin-name --></span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    &#x3C;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">name</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">></span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">Work</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">Diff</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">Dev</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">&#x3C;/</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">name</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    &#x3C;!--</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> 插件下载页面和作者相关信息 </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">--></span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    &#x3C;!--</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> A displayed Vendor name or Organization ID displayed on the Plugins Page</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> --></span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    &#x3C;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">vendor email</span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">llimou3434@gmail.com</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> url</span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">https://github.com/limou3434/work-diff-dev</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">></span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">work</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">diff</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">dev</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">&#x3C;/</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">vendor</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    &#x3C;!--</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> 插件功能描述</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> 支持 HTML</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> 最好打大于 </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91">40</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> 个字符 </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">--></span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    &#x3C;!--</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> Description of the plugin displayed on the Plugin Page and IDE Plugin Manager</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">         Guidelines</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> https</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">:</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">//plugins.jetbrains.com/docs/marketplace/best-practices-for-listing.html#plugin-description --></span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    &#x3C;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">description</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">>&#x3C;!</span><span style="--shiki-light:#999999;--shiki-dark:#666666">[</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">CDATA</span><span style="--shiki-light:#999999;--shiki-dark:#666666">[</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        这是一个插件，用于辅助开发，如：</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91">         1.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> xxxxxxxxxxxxxxxxxxxxxxx</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91">         2.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> xxxxxxxxxxxxxxxxxxxxxxx</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91">         3.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> xxxxxxxxxxxxxxxxxxxxxxx</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91">         4.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> xxxxxxxxxxxxxxxxxxxxxxx</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91">         5.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> xxxxxxxxxxxxxxxxxxxxxxx</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91">         6.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> xxxxxxxxxxxxxxxxxxxxxxx</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91">         7.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> xxxxxxxxxxxxxxxxxxxxxxx</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91">         8.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> xxxxxxxxxxxxxxxxxxxxxxx</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91">         9.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> xxxxxxxxxxxxxxxxxxxxxxx</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    ]]</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">>&#x3C;/</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">description</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    &#x3C;!--</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> 插件相关平台</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> 插件依赖性质</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> 不过一般不需要使用 </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">--></span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    &#x3C;!--</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> Product and plugin compatibility requirements</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">         Read</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A"> more</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> https</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">:</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">//plugins.jetbrains.com/docs/intellij/plugin-compatibility.html --></span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    &#x3C;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">depends</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">></span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">com</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">intellij</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">modules</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">platform</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">&#x3C;/</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">depends</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    &#x3C;!--</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> 插件拓展点 </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">--></span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    &#x3C;!--</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> Extension points defined by the plugin</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">         Read</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A"> more</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> https</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">:</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">//plugins.jetbrains.com/docs/intellij/plugin-extension-points.html --></span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    &#x3C;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">extensions defaultExtensionNs</span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">com.intellij</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">></span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    &#x3C;/</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">extensions</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    &#x3C;!--</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> 插件 Actions </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">--></span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    &#x3C;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">actions</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">></span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">        &#x3C;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">action id</span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">TestAction</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">                class</span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">cn.com.edtechhub.workdiffdev.TestAction</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">                text</span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">Test Action</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">                description</span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">A test action</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">        ></span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">            &#x3C;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">add</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">to</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">group group</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">id</span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">ToolsMenu</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> anchor</span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">first</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">/></span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">        &#x3C;/</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">action</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">></span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    &#x3C;/</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">actions</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">&#x3C;/</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">idea</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">plugin</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">></span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code class="language-java"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">// src/main/java/cn/com/edtechhub/workdiffdev/TestAction.java: 插件 Action 类</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">package</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> cn</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">com</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">edtechhub</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">workdiffdev</span><span style="--shiki-light:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> com</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">intellij</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">openapi</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">actionSystem</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">AnAction</span><span style="--shiki-light:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> com</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">intellij</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">openapi</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">actionSystem</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">AnActionEvent</span><span style="--shiki-light:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> org</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">jetbrains</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">annotations</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">NotNull</span><span style="--shiki-light:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">public</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> class</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994"> TestAction</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> extends</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> AnAction</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    @</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">Override</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    public</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> void</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> actionPerformed</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(@</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">NotNull</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> AnActionEvent </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">e</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">        System</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">out</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">println</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">TestAction</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#999999;--shiki-dark:#666666">);</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后直接使用 <code v-pre>Gradle</code> 运行，就会自动创建一个 <code v-pre>IDEA</code> 沙盒实例，然后尝试点击，虽然有些报错，但是确实是成功了，有打印出插件的输出。</p>
<figure><img src="@source/5.开发方向/6.插件开发/assets/image-20250907204507219.png" alt="image-20250907204507219" tabindex="0" loading="lazy"><figcaption>image-20250907204507219</figcaption></figure>
<figure><img src="@source/5.开发方向/6.插件开发/assets/image-20250907204422590.png" alt="image-20250907204422590" tabindex="0" loading="lazy"><figcaption>image-20250907204422590</figcaption></figure>
<div class="hint-container important">
<p class="hint-container-title">重要</p>
<p>补充：可以稍微解决一下一些 <code v-pre>error</code>。</p>
<ul>
<li>
<p>避免出现 <code v-pre>Caused by: java.lang.Throwable: JreHiDpiUtil is first initialized here</code> 的渲染问题。</p>
<div class="language-properties line-numbers-mode" data-highlighter="shiki" data-ext="properties" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code class="language-properties"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"># gradle.properties</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"># Opt-out flag for bundling Kotlin standard library -> https://jb.gg/intellij-platform-kotlin-stdlib</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">kotlin.stdlib.default.dependency</span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">false</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"># Enable Gradle Configuration Cache -> https://docs.gradle.org/current/userguide/configuration_cache.html</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">org.gradle.configuration-cache</span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">true</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"># Enable Gradle Build Cache -> https://docs.gradle.org/current/userguide/build_cache.html</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">org.gradle.caching</span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">true</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"># not Caused by: java.lang.Throwable: JreHiDpiUtil is first initialized here</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">org.gradle.java.home</span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">/home/ljp/.jdks/jbr-21.0.8</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li>
<li>
<p>解决中文乱码的问题。</p>
<div class="language-kotlin line-numbers-mode" data-highlighter="shiki" data-ext="kotlin" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code class="language-kotlin"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">// build.gradle.kts</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">plugins</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">    id</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">(</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">"java"</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">)</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">    id</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">(</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">"org.jetbrains.kotlin.jvm"</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">) version </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">"2.1.0"</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">    id</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">(</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">"org.jetbrains.intellij.platform"</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">) version </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">"2.7.1"</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">group </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> "cn.com.edtechhub.workdiffdev"</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">version </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> "1.0-SNAPSHOT"</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">repositories</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">    mavenCentral</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">()</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">    intellijPlatform</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">        defaultRepositories</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">()</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    }</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">// Configure IntelliJ Platform Gradle Plugin</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">// Read more: https://plugins.jetbrains.com/docs/intellij/tools-intellij-platform-gradle-plugin.html</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">dependencies</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">    intellijPlatform</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">        create</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">(</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">"IC"</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">, </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">"2025.1.4.1"</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">)</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">        testFramework</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">(org.jetbrains.intellij.platform.gradle.TestFrameworkType.Platform)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">        // Add necessary plugin dependencies for compilation here, example:</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">        // bundledPlugin("com.intellij.java")</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    }</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">intellijPlatform</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">    pluginConfiguration</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">        ideaVersion</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> {</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">            sinceBuild </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> "251"</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        changeNotes </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> """</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">              Initial version</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">          """</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">trimIndent</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">()</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    }</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">tasks</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">    // Set the JVM compatibility versions</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">    withType</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">&#x3C;</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994">JavaCompile</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">> {</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        sourceCompatibility </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> "21"</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        targetCompatibility </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> "21"</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        options.encoding </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> "UTF-8"</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> // 解决编译时中文报错</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">    // 解决运行时控制台中文乱码</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">    withType</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">&#x3C;</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994">JavaExec</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">> {</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        jvmArgs </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> listOf</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">(</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">"-Dfile.encoding=UTF-8"</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">, </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">"-Dsun.stdout.encoding=UTF-8"</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">, </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">"-Dsun.stderr.encoding=UTF-8"</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    }</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">kotlin</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">    compilerOptions</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> {</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        jvmTarget.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">set</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">(org.jetbrains.kotlin.gradle.dsl.JvmTarget.JVM_21)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    }</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li>
<li>
<p>使用 <code v-pre>git config --global --add safe.directory /</code> 标记 <code v-pre>Git</code> 安全目录以避免警告。</p>
</li>
</ul>
</div>
<h3 id="_4-7-定位位置" tabindex="-1"><a class="header-anchor" href="#_4-7-定位位置"><span>4.7.定位位置</span></a></h3>
<p>需要将 <code v-pre>Action</code> 插入到主菜单栏中的 <code v-pre>Tools</code> 菜单，但是要如何定位呢，我是如何知道使用什么 <code v-pre>group-id</code> 的呢？这就只要使用我们之前说的内部工具，<code v-pre>UI</code> 检查器了。开启内部模式之后，按 <code v-pre>[ctrl+alt+鼠标左键]</code> 点击 <code v-pre>UI</code>，就能显示当前 <code v-pre>UI</code> 的详细信息。找到他的 <code v-pre>Group Id</code> 然后创建 <code v-pre>Action</code> 时搜索选择就好了（没插件就只能手动写了）。</p>
<figure><img src="@source/5.开发方向/6.插件开发/assets/image-20250907211715290.png" alt="image-20250907211715290" tabindex="0" loading="lazy"><figcaption>image-20250907211715290</figcaption></figure>
<div class="hint-container important">
<p class="hint-container-title">重要</p>
<p>补充：不过我的版本是默认把 <code v-pre>UI</code> 定位打开的，如果您没有可以手动打开。</p>
<figure><img src="@source/5.开发方向/6.插件开发/assets/image-20250907211429790.png" alt="image-20250907211429790" tabindex="0" loading="lazy"><figcaption>image-20250907211429790</figcaption></figure>
<div class="language-properties line-numbers-mode" data-highlighter="shiki" data-ext="properties" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code class="language-properties"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"># custom IntelliJ IDEA properties (expand/override 'bin/idea.properties')</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">idea.is.internal</span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">true</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div></div>
<h3 id="_4-8-快捷启动" tabindex="-1"><a class="header-anchor" href="#_4-8-快捷启动"><span>4.8.快捷启动</span></a></h3>
<p>asdasdasdasd点击有些时候还是不方便，最好来点快捷键。</p>
<div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code class="language-xml"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">&#x3C;!-- src/main/resources/META-INF/plugin.xml: 插件配置文件 --></span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">&#x3C;!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html --></span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">&#x3C;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">idea-plugin</span><span style="--shiki-light:#999999;--shiki-dark:#666666">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">    &#x3C;!-- 插件唯一 ID --></span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">    &#x3C;!-- Plugin unique ID --></span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    &#x3C;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">id</span><span style="--shiki-light:#999999;--shiki-dark:#666666">></span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">cn.com.edtechhub.workdiffdev.work-diff-dev</span><span style="--shiki-light:#999999;--shiki-dark:#666666">&#x3C;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">id</span><span style="--shiki-light:#999999;--shiki-dark:#666666">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">    &#x3C;!-- 插件名称(大驼峰) --></span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">    &#x3C;!-- Public plugin name should be written in Title Case.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">         Guidelines: https://plugins.jetbrains.com/docs/marketplace/best-practices-for-listing.html#plugin-name --></span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    &#x3C;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">name</span><span style="--shiki-light:#999999;--shiki-dark:#666666">></span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">Work-Diff-Dev</span><span style="--shiki-light:#999999;--shiki-dark:#666666">&#x3C;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">name</span><span style="--shiki-light:#999999;--shiki-dark:#666666">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">    &#x3C;!-- 插件下载页面和作者相关信息 --></span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">    &#x3C;!-- A displayed Vendor name or Organization ID displayed on the Plugins Page. --></span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    &#x3C;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">vendor</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A"> email</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">llimou3434@gmail.com</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A"> url</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">https://github.com/limou3434/work-diff-dev</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#999999;--shiki-dark:#666666">></span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">work-diff-dev</span><span style="--shiki-light:#999999;--shiki-dark:#666666">&#x3C;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">vendor</span><span style="--shiki-light:#999999;--shiki-dark:#666666">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">    &#x3C;!-- 插件功能描述, 支持 HTML, 最好打大于 40 个字符 --></span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">    &#x3C;!-- Description of the plugin displayed on the Plugin Page and IDE Plugin Manager.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">         Guidelines: https://plugins.jetbrains.com/docs/marketplace/best-practices-for-listing.html#plugin-description --></span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    &#x3C;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">description</span><span style="--shiki-light:#999999;--shiki-dark:#666666">></span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">&#x3C;![CDATA[</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">        这是一个插件，用于辅助开发，如：</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">         1. xxxxxxxxxxxxxxxxxxxxxxx</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">         2. xxxxxxxxxxxxxxxxxxxxxxx</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">         3. xxxxxxxxxxxxxxxxxxxxxxx</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">         4. xxxxxxxxxxxxxxxxxxxxxxx</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">         5. xxxxxxxxxxxxxxxxxxxxxxx</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">         6. xxxxxxxxxxxxxxxxxxxxxxx</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">         7. xxxxxxxxxxxxxxxxxxxxxxx</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">         8. xxxxxxxxxxxxxxxxxxxxxxx</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">         9. xxxxxxxxxxxxxxxxxxxxxxx</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">    ]]></span><span style="--shiki-light:#999999;--shiki-dark:#666666">&#x3C;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">description</span><span style="--shiki-light:#999999;--shiki-dark:#666666">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">    &#x3C;!-- 插件相关平台, 插件依赖性质, 不过一般不需要使用 --></span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">    &#x3C;!-- Product and plugin compatibility requirements.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html --></span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    &#x3C;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">depends</span><span style="--shiki-light:#999999;--shiki-dark:#666666">></span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">com.intellij.modules.platform</span><span style="--shiki-light:#999999;--shiki-dark:#666666">&#x3C;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">depends</span><span style="--shiki-light:#999999;--shiki-dark:#666666">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">    &#x3C;!-- 插件拓展点 --></span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">    &#x3C;!-- Extension points defined by the plugin.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-extension-points.html --></span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    &#x3C;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">extensions</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A"> defaultExtensionNs</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">com.intellij</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    &#x3C;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">extensions</span><span style="--shiki-light:#999999;--shiki-dark:#666666">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">    &#x3C;!-- 插件 Actions --></span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    &#x3C;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">actions</span><span style="--shiki-light:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">        &#x3C;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">action</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A"> id</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">TestAction</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">                class</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">cn.com.edtechhub.workdiffdev.TestAction</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">                text</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">Test Action</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">                description</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">A test action</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">        ></span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">            &#x3C;!-- 添加的位置 --></span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">            &#x3C;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">add-to-group</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A"> group-id</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">ToolsMenu</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A"> anchor</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">first</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#999999;--shiki-dark:#666666">/></span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> &#x3C;!-- group-id 是从 UI 选择器中得出的 --></span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">        &#x3C;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">action</span><span style="--shiki-light:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    &#x3C;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">actions</span><span style="--shiki-light:#999999;--shiki-dark:#666666">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">    &#x3C;!-- 插件监听器 --></span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    &#x3C;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">applicationListeners</span><span style="--shiki-light:#999999;--shiki-dark:#666666">></span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">        &#x3C;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">listener</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A"> class</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">cn.com.edtechhub.workdiffdev.TestListener</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A"> topic</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">com.intellij.openapi.application.ApplicationActivationListener</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#999999;--shiki-dark:#666666">/></span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    &#x3C;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">applicationListeners</span><span style="--shiki-light:#999999;--shiki-dark:#666666">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">&#x3C;/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">idea-plugin</span><span style="--shiki-light:#999999;--shiki-dark:#666666">></span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code class="language-java"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">// src/main/java/cn/com/edtechhub/workdiffdev/TestListener.java: 监听器</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">package</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> cn</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">com</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">edtechhub</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">workdiffdev</span><span style="--shiki-light:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> com</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">intellij</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">openapi</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">application</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">ApplicationActivationListener</span><span style="--shiki-light:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> com</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">intellij</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">openapi</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">wm</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">IdeFrame</span><span style="--shiki-light:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> org</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">jetbrains</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">annotations</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">NotNull</span><span style="--shiki-light:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> java</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">awt</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076">*</span><span style="--shiki-light:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> java</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">awt</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">event</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">KeyEvent</span><span style="--shiki-light:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">public</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> class</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994"> TestListener</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> implements</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> ApplicationActivationListener</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    private</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> final</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> KeyEventDispatcher</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A"> dispatcher</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> =</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375"> new</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> MyKeyEventDispatcher</span><span style="--shiki-light:#999999;--shiki-dark:#666666">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    @</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">Override</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    public</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> void</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> applicationActivated</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(@</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">NotNull</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> IdeFrame </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">ideFrame</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">        KeyboardFocusManager</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">getCurrentKeyboardFocusManager</span><span style="--shiki-light:#999999;--shiki-dark:#666666">().</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">addKeyEventDispatcher</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">dispatcher</span><span style="--shiki-light:#999999;--shiki-dark:#666666">);</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    @</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">Override</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    public</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> void</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> applicationDeactivated</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(@</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">NotNull</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> IdeFrame </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">ideFrame</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">        KeyboardFocusManager</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">getCurrentKeyboardFocusManager</span><span style="--shiki-light:#999999;--shiki-dark:#666666">().</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">removeKeyEventDispatcher</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">dispatcher</span><span style="--shiki-light:#999999;--shiki-dark:#666666">);</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    private</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> static</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> class</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994"> MyKeyEventDispatcher</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> implements</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> KeyEventDispatcher</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">        private</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> boolean</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A"> altPressed</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> =</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375"> false</span><span style="--shiki-light:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        </span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">        private</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> boolean</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A"> shiftPressed</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> =</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375"> false</span><span style="--shiki-light:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">        @</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">Override</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">        public</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> boolean</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> dispatchKeyEvent</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">KeyEvent </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">e</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> {</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">            switch</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">e</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">getID</span><span style="--shiki-light:#999999;--shiki-dark:#666666">())</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> {</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">                case</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A"> KeyEvent</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">KEY_PRESSED</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> -></span><span style="--shiki-light:#999999;--shiki-dark:#666666"> {</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">                    if</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">e</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">getKeyCode</span><span style="--shiki-light:#999999;--shiki-dark:#666666">()</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> ==</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A"> KeyEvent</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">VK_ALT</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> altPressed </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375"> true</span><span style="--shiki-light:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">                    if</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">e</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">getKeyCode</span><span style="--shiki-light:#999999;--shiki-dark:#666666">()</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> ==</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A"> KeyEvent</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">VK_SHIFT</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> shiftPressed </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375"> true</span><span style="--shiki-light:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">                    // 检查组合键 Alt+Shift+H</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">                    if</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> (</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">altPressed </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">&#x26;&#x26;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> shiftPressed </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">&#x26;&#x26;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A"> e</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">getKeyCode</span><span style="--shiki-light:#999999;--shiki-dark:#666666">()</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> ==</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A"> KeyEvent</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">VK_H</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">                        System</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">out</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">println</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">Alt+Shift+H 被触发了!</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#999999;--shiki-dark:#666666">);</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">                        return</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375"> true</span><span style="--shiki-light:#999999;--shiki-dark:#666666">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> // 阻止事件继续传递</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">                    }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">                }</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">                case</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A"> KeyEvent</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">KEY_RELEASED</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> -></span><span style="--shiki-light:#999999;--shiki-dark:#666666"> {</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">                    if</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">e</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">getKeyCode</span><span style="--shiki-light:#999999;--shiki-dark:#666666">()</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> ==</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A"> KeyEvent</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">VK_CONTROL</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> altPressed </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375"> false</span><span style="--shiki-light:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">                    if</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">e</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">getKeyCode</span><span style="--shiki-light:#999999;--shiki-dark:#666666">()</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> ==</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A"> KeyEvent</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">VK_SHIFT</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> shiftPressed </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375"> false</span><span style="--shiki-light:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">                }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">            }</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">            return</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375"> false</span><span style="--shiki-light:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">        }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-9-打包插件" tabindex="-1"><a class="header-anchor" href="#_4-9-打包插件"><span>4.9.打包插件</span></a></h3>
<p>通过 <code v-pre>Gradle</code> 的 <code v-pre>task</code> 打包插件来构建 <code v-pre>jar</code> 包，最终会输出到 <code v-pre>build/libs</code> 下。</p>
<figure><img src="@source/5.开发方向/6.插件开发/assets/image-20250907224538221.png" alt="image-20250907224538221" tabindex="0" loading="lazy"><figcaption>image-20250907224538221</figcaption></figure>
<figure><img src="@source/5.开发方向/6.插件开发/assets/image-20250907224601947.png" alt="image-20250907224601947" tabindex="0" loading="lazy"><figcaption>image-20250907224601947</figcaption></figure>
<h2 id="_5-本地安装" tabindex="-1"><a class="header-anchor" href="#_5-本地安装"><span>5.本地安装</span></a></h2>
<p>可以使用本地的 <code v-pre>IDEA</code> 来进行本地安装进行试验。</p>
<figure><img src="@source/5.开发方向/6.插件开发/assets/image-20250907224711094.png" alt="image-20250907224711094" tabindex="0" loading="lazy"><figcaption>image-20250907224711094</figcaption></figure>
<figure><img src="@source/5.开发方向/6.插件开发/assets/image-20250907224732729.png" alt="image-20250907224732729" tabindex="0" loading="lazy"><figcaption>image-20250907224732729</figcaption></figure>
<figure><img src="@source/5.开发方向/6.插件开发/assets/image-20250907224819390.png" alt="image-20250907224819390" tabindex="0" loading="lazy"><figcaption>image-20250907224819390</figcaption></figure>
<h2 id="_6-业务逻辑" tabindex="-1"><a class="header-anchor" href="#_6-业务逻辑"><span>6.业务逻辑</span></a></h2>
<p>不过由于我们还没有写出非常好的插件来，应此暂时还不太容易发布给别人使用，因此我将带您完成一个完整的插件开发。这里梳理一下我的插件需求：</p>
<ul>
<li>我需要一款插件支持对比代码，优化开发</li>
<li>用户可以选中一段代码区域，启用插件后将代码复制到弹窗中工作区的两个编辑区，左侧只读，右侧修改</li>
<li>插件为弹窗工作区提供两个按钮“应用到左侧”和“保存到原文”
<ul>
<li>“应用到左侧”可以把用户在右边编辑好的代码复制到左侧</li>
<li>“保存到原文”可以把用户在左侧中只读的代码保存到原文</li>
</ul>
</li>
<li>保存后修改的代码可以替换掉用户</li>
</ul>
<h2 id="_7-版本兼容" tabindex="-1"><a class="header-anchor" href="#_7-版本兼容"><span>7.版本兼容</span></a></h2>
<p>待补充...</p>
<h2 id="_8-发布插件" tabindex="-1"><a class="header-anchor" href="#_8-发布插件"><span>8.发布插件</span></a></h2>
<ol>
<li>
<p>进入 <code v-pre>Jetbrains</code> 插件开发平台：https://plugins.jetbrains.com/developers/intellij-platform</p>
</li>
<li>
<p>点击登录，或者注册账号</p>
</li>
</ol>
<figure><img src="@source/5.开发方向/6.插件开发/assets/image-20250907225109010.png" alt="image-20250907225109010" tabindex="0" loading="lazy"><figcaption>image-20250907225109010</figcaption></figure>
<ol start="3">
<li>点击 <code v-pre>Upload Plugin</code> 上传插件，上传插件 <code v-pre>jar</code> 包，填写相关信息，点击 <code v-pre>upload Plugin</code></li>
</ol>
<figure><img src="@source/5.开发方向/6.插件开发/assets/image-20250907225201858.png" alt="image-20250907225201858" tabindex="0" loading="lazy"><figcaption>image-20250907225201858</figcaption></figure>
<ol start="4">
<li>上传成功，等待审核</li>
</ol>
<figure><img src="@source/5.开发方向/6.插件开发/assets/image-20250907225227584.png" alt="image-20250907225227584" tabindex="0" loading="lazy"><figcaption>image-20250907225227584</figcaption></figure>
<h2 id="_9-拓展加强" tabindex="-1"><a class="header-anchor" href="#_9-拓展加强"><span>9.拓展加强</span></a></h2>
<p>这里还有很多值的探究的要点，待补充...</p>
</div></template>


