<template><div><blockquote>
<p>前要：我推荐新手先难受会，使用 <code v-pre>Qt Creator</code> 来直接开发。</p>
</blockquote>
<h1 id="_1-基本的-qt-代码" tabindex="-1"><a class="header-anchor" href="#_1-基本的-qt-代码"><span>1.基本的 Qt 代码</span></a></h1>
<h2 id="_1-1-创建项目" tabindex="-1"><a class="header-anchor" href="#_1-1-创建项目"><span>1.1.创建项目</span></a></h2>
<p>我们先来创建一个项目跑起来先，看看界面是什么样子的。</p>
<figure><img src="@source/5.开发方向/3.桌面开发/QtCpp/assets/image-20240409205016881.png" alt="image-20240409205016881" tabindex="0" loading="lazy"><figcaption>image-20240409205016881</figcaption></figure>
<figure><img src="@source/5.开发方向/3.桌面开发/QtCpp/assets/image-20240409205315539.png" alt="image-20240409205315539" tabindex="0" loading="lazy"><figcaption>image-20240409205315539</figcaption></figure>
<figure><img src="@source/5.开发方向/3.桌面开发/QtCpp/assets/image-20240409205338078.png" alt="image-20240409205338078" tabindex="0" loading="lazy"><figcaption>image-20240409205338078</figcaption></figure>
<blockquote>
<p>补充：元编程是指编写能够操作、生成或者改变其他程序或者自身的程序。简单来说，元编程是关于编写程序的程序，它可以自我修改或者生成新的代码，也可以在运行时动态地创建、修改和执行代码。</p>
</blockquote>
<p>使用 <code v-pre>Qt Creator</code> 会自动生成一些代码，接下来选择一个父类来用于后续的继承。</p>
<ul>
<li><code v-pre>QMainWindows</code>：表示完整的窗口</li>
<li><code v-pre>QWidget</code>：表示一个控件（窗口上的一个具体元素，例如输入框、按钮、下拉框、单选按钮、复选按钮），我这里先选择这个</li>
<li><code v-pre>QDialog</code>：表示一个对话框</li>
</ul>
<figure><img src="@source/5.开发方向/3.桌面开发/QtCpp/assets/image-20240420234001545.png" alt="image-20240420234001545" tabindex="0" loading="lazy"><figcaption>image-20240420234001545</figcaption></figure>
<p>接下来是国际化操作，不过可以先选择默认的就行。</p>
<figure><img src="@source/5.开发方向/3.桌面开发/QtCpp/assets/image-20240409211651876.png" alt="image-20240409211651876" tabindex="0" loading="lazy"><figcaption>image-20240409211651876</figcaption></figure>
<p><code v-pre>Qt</code> 中创建图形化界面的程序, 有两种：</p>
<ol>
<li>
<p><code v-pre>Qt</code> 创建 <code v-pre>C++</code> 代码的方式</p>
</li>
<li>
<p>通过 <code v-pre>from file</code> 图形化的方式</p>
</li>
</ol>
<p>选择基于不同版本编译器的 <code v-pre>Qt SDK</code> 来构建后续代码。</p>
<figure><img src="@source/5.开发方向/3.桌面开发/QtCpp/assets/image-20240409211852382.png" alt="image-20240409211852382" tabindex="0" loading="lazy"><figcaption>image-20240409211852382</figcaption></figure>
<figure><img src="@source/5.开发方向/3.桌面开发/QtCpp/assets/image-20240409211913096.png" alt="image-20240409211913096" tabindex="0" loading="lazy"><figcaption>image-20240409211913096</figcaption></figure>
<p>然后分别解释一下自动生成的几个文件。</p>
<div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code class="language-shell"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"># 文件目录树</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">MyTest:</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">│</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">├─QtTestempty</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">│</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">       main.cpp</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">│</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">       mywidget.cpp</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">│</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">       mywidget.h</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">│</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">       mywidget.ui</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">│</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">       QtTestempty.pro</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">│</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">       QtTestempty.pro.user</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">│</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">└─</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D"> build-QtTestempty-Desktop_Qt_5_14_0_MinGW_64_bit-Debug</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">        .qmake.stash</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">        main.o</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">        Makefile</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">        moc_mywidget.cpp</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">        moc_mywidget.o</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">        moc_predefs.h</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">        mywidget.o</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">        QtTestempty.exe</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">        ui_mywidget.h</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>上面很明显包含了 <code v-pre>C/C++</code> 式的文件，我们先看这几个。</p>
<div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code class="language-cpp"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">// main.cpp</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">#</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">include</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">mywidget.h</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">#</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">include</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> &#x3C;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">QApplication</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">int</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> main</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">int</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A"> argc</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> char</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> *</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">argv</span><span style="--shiki-light:#999999;--shiki-dark:#666666">[])</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">{</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    QApplication </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">a</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">argc</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> argv</span><span style="--shiki-light:#999999;--shiki-dark:#666666">);</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> // 传递命令行参数给 QApplication 类</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    MyWidget w</span><span style="--shiki-light:#999999;--shiki-dark:#666666">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> // 创建一个控件对象, 继承自 QWidget</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">    w</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">show</span><span style="--shiki-light:#999999;--shiki-dark:#666666">();</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> // 显示控件对象, hide() 则可以将控件隐藏</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">    return</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A"> a</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">exec</span><span style="--shiki-light:#999999;--shiki-dark:#666666">();</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> // exec() 是 QCoreApplication 类成员方法, 可启动 Qt 的事件循环, 和 Linux 中的 exec 进程替换没有关系</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code class="language-cpp"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">// mywidget.h</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">#</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">ifndef</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> MYWIDGET_H</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">#</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">define</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> MYWIDGET_H</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">#</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">include</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> &#x3C;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">QWidget</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">></span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> // 使用 Qt 内置的类和头文件一致</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">QT_BEGIN_NAMESPACE</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">namespace</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> Ui</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> {</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> class</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994"> MyWidget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">;</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> }</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">QT_END_NAMESPACE</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">class</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994"> MyWidget</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> :</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> public</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994"> QWidget</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">{</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    Q_OBJECT</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> // 这是 QT 内置的宏, 该宏展开后就会生成大量代码, 当类需要使用 Qt 的“信号”和“槽”机制的时候就要引入</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">public</span><span style="--shiki-light:#999999;--shiki-dark:#666666">:</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> // 下面两个类方法做了头文件、源文件分离的实现</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">    MyWidget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994">QWidget</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> *</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">parent</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> =</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375"> nullptr</span><span style="--shiki-light:#999999;--shiki-dark:#666666">);</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> // Qt 引入了对象树的概念, 创建 Qt 的对象, 就可以吧对象挂在对象树上(N叉树), 往上挂时需要指定父节点</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">    ~MyWidget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">private</span><span style="--shiki-light:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">    Ui</span><span style="--shiki-light:#999999;--shiki-dark:#666666">::</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">MyWidget </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">ui</span><span style="--shiki-light:#999999;--shiki-dark:#666666">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> // 和 form file 相关</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">};</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">#</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">endif</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> // MYWIDGET_H</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code class="language-cpp"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">// mywidget.cpp</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">#</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">include</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">mywidget.h</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">#</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">include</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">ui_mywidget.h</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> // from file 被 qmake 生成的头文件</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">MyWidget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">::</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">MyWidget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">QWidget </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">parent</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    : </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">QWidget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">parent</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    ,</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> ui</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">new</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> Ui</span><span style="--shiki-light:#999999;--shiki-dark:#666666">::</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">MyWidget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">{</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">    ui</span><span style="--shiki-light:#999999;--shiki-dark:#666666">-></span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">setupUi</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076">this</span><span style="--shiki-light:#999999;--shiki-dark:#666666">);</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> //把 from file 生成的页面和当前的 widget 关联起来</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">MyWidget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">::</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">~</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">MyWidget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">()</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">{</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    delete</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> ui</span><span style="--shiki-light:#999999;--shiki-dark:#666666">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> //释放资源</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>还有一个关于 <code v-pre>qmake</code> 的配置文件。</p>
<div class="language-properties line-numbers-mode" data-highlighter="shiki" data-ext="properties" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code class="language-properties"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"># QtTestempty.pro 是 qmake 进行元编程时的重要依据, “qmake+QtTestempty.pro”类似 makefile 的使用(但是这个工具古老且经典)</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"># 经过一次运行后, 在和本项目同级目录下的 build-QtTestempty-Desktop_Qt_5_14_0_MinGW_64_bit-Debug 中, 实际上也可以看到 Makefile 的身影</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"># 而且还有一些相关的配置文件, 还有一个依据 mywidget.ui 生成的 ui_mywidget.h 头文件, 您可以打开一览简单看一看</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">QT       += core gui </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"># 表示引入的 Qt 模块</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">greaterThan(QT_MAJOR_VERSION, 4): QT += widgets</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">CONFIG += c++11 </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"># 编译选项(使用的 C++ 标志)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"># The following define makes your compiler emit warnings if you use</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"># any Qt feature that has been marked deprecated (the exact warnings</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"># depend on your compiler). Please consult the documentation of the</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"># deprecated API in order to know how to port your code away from it.</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">DEFINES += QT_DEPRECATED_WARNINGS</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"># You can also make your code fail to compile if it uses deprecated APIs.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"># In order to do so, uncomment the following line.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"># You can also select to disable deprecated APIs only up to a certain version of Qt.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">#DEFINES += QT_DISABLE_DEPRECATED_BEFORE=0x060000    # disables all the APIs deprecated before Qt 6.0.0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"># 当前项目参与构建的文件, 不需要手动修改, Qt 会自动维护好</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">SOURCES += \</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    main.cpp \</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    mywidget.cpp</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">HEADERS += \</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    mywidget.h</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">FORMS += \</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    mywidget.ui</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"># Default rules for deployment.</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">qnx: </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">target.path</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> =</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> /tmp/$${TARGET}/bin</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">else: unix:!android: </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">target.path</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> =</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> /opt/$${TARGET}/bin</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">!isEmpty(target.path): INSTALLS += target</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>另外，我们来查看 <code v-pre>mywidget.ui</code> 文件，这是一个 <code v-pre>XML</code> 的只读文件，主要是用来描述界面的样式，<code v-pre>qmake</code> 会根据这个文件进行元编程，生成对应 <code v-pre>C++</code> 代码，然后编译成一个界面。</p>
<p>想要修改 <code v-pre>XML</code> 文件，只能通过点击对应界面跳转的 <code v-pre>UI</code> 设计界面，通过鼠标操作和设计界面的方式来修改。</p>
<figure><img src="@source/5.开发方向/3.桌面开发/QtCpp/assets/image-20240410110935077.png" alt="image-20240410110935077" tabindex="0" loading="lazy"><figcaption>image-20240410110935077</figcaption></figure>
<figure><img src="@source/5.开发方向/3.桌面开发/QtCpp/assets/image-20240410111450944.png" alt="image-20240410111450944" tabindex="0" loading="lazy"><figcaption>image-20240410111450944</figcaption></figure>
<blockquote>
<p>补充：<code v-pre>XML</code> 和 <code v-pre>HTML</code> 很是类似，用起来也像，但是两者的作用不太一样，<code v-pre>XML</code> 中的标签表示什么含义取决于程序员自定义（<code v-pre>HTML</code> 的由标准委员会使用相同的规则来规定）。</p>
</blockquote>
<h2 id="_1-2-hello-world-代码的实现" tabindex="-1"><a class="header-anchor" href="#_1-2-hello-world-代码的实现"><span>1.2.Hello World 代码的实现</span></a></h2>
<h3 id="_1-2-1-使用标签" tabindex="-1"><a class="header-anchor" href="#_1-2-1-使用标签"><span>1.2.1.使用标签</span></a></h3>
<h4 id="_1-2-1-1-使用界面编辑来实现" tabindex="-1"><a class="header-anchor" href="#_1-2-1-1-使用界面编辑来实现"><span>1.2.1.1.使用界面编辑来实现</span></a></h4>
<figure><img src="@source/5.开发方向/3.桌面开发/QtCpp/assets/image-20240410120645717.png" alt="image-20240410120645717" tabindex="0" loading="lazy"><figcaption>image-20240410120645717</figcaption></figure>
<p>对应元编程结果如下：</p>
<figure><img src="@source/5.开发方向/3.桌面开发/QtCpp/assets/image-20240410120813613.png" alt="image-20240410120813613" tabindex="0" loading="lazy"><figcaption>image-20240410120813613</figcaption></figure>
<h4 id="_1-2-1-2-使用代码编辑来实现" tabindex="-1"><a class="header-anchor" href="#_1-2-1-2-使用代码编辑来实现"><span>1.2.1.2.使用代码编辑来实现</span></a></h4>
<p>一般使用代码来构造界面的时候，会把构造界面的代码放到 <code v-pre>Widget/MainWindows</code> 的构造函数中。</p>
<div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code class="language-cpp"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">// mywidget.cpp</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">#</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">include</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">mywidget.h</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">#</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">include</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">ui_mywidget.h</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> // from file 被 qmake 生成的头文件</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">#</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">include</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> &#x3C;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">QLabel</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">></span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> //还有一个 QLabel 是较早的实现版本</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">#</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">include</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> &#x3C;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">QString</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">MyWidget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">::</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">MyWidget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">QWidget </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">parent</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    : </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">QWidget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">parent</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    ,</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> ui</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">new</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> Ui</span><span style="--shiki-light:#999999;--shiki-dark:#666666">::</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">MyWidget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">{</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">    ui</span><span style="--shiki-light:#999999;--shiki-dark:#666666">-></span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">setupUi</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076">this</span><span style="--shiki-light:#999999;--shiki-dark:#666666">);</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> //把 from file 生成的页面和当前的 widget 关联起来</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    QLabel</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> label </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> new</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> QLabel</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076">this</span><span style="--shiki-light:#999999;--shiki-dark:#666666">);</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> //Label 其实就是“标签”, 也就是界面上用来显示的字符串, 并且指定父对象</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">    label</span><span style="--shiki-light:#999999;--shiki-dark:#666666">-></span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">setText</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">QString</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">Hello World!</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#999999;--shiki-dark:#666666">));</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> //C++ 早期的字符串有 C 式风格字符串和混乱的 std::string, 因此就有了自己的基础类来支持字符串(QString)、动态数组(QVector)、链表(QList)、字典(QMap)...因此就有可能有两种解决方案, 不过很多情况都使用 Qt 自己的</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">    label</span><span style="--shiki-light:#999999;--shiki-dark:#666666">-></span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">setGeometry</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">QRect</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91">230</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91"> 130</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91"> 91</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91"> 21</span><span style="--shiki-light:#999999;--shiki-dark:#666666">));</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> //设定标签位置和标签形状</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">    //另外, 这里故意没有使用 delete label, 这是 Qt 的一个特点, 您在这里可以不调用 delete</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">    //因为前面的 QLabel* label = new QLabel(this); 把对象通过父对象挂到了对象树上, 对象树可以把界面上的各种元素组织起来</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">MyWidget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">::</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">~</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">MyWidget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">()</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">{</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    delete</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> ui</span><span style="--shiki-light:#999999;--shiki-dark:#666666">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> //释放资源</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="@source/5.开发方向/3.桌面开发/QtCpp/assets/1712724729748.jpg" alt="1712724729748" tabindex="0" loading="lazy"><figcaption>1712724729748</figcaption></figure>
<p>并且，无论是手动使用 <code v-pre>delete</code> 还是使用栈变量，都是不科学的，应当将 <code v-pre>Qt</code> 对象的生命周期交给对象树（注意是要把控件的父控件对象挂上去），否则就会出现对应资源不显示的问题。</p>
<h3 id="_1-2-2-使用编辑框" tabindex="-1"><a class="header-anchor" href="#_1-2-2-使用编辑框"><span>1.2.2.使用编辑框</span></a></h3>
<h4 id="_1-2-2-1-使用界面编辑来实现" tabindex="-1"><a class="header-anchor" href="#_1-2-2-1-使用界面编辑来实现"><span>1.2.2.1.使用界面编辑来实现</span></a></h4>
<p><code v-pre>Qt</code> 中有两种编辑框：</p>
<ul>
<li>单行编辑框 <code v-pre>QLineEdit</code></li>
<li>多行编辑框 <code v-pre>QtextEdit</code></li>
</ul>
<p>同样先创建一个基于 <code v-pre>QWidget</code> 项目</p>
<figure><img src="@source/5.开发方向/3.桌面开发/QtCpp/assets/image-20240422150133906.png" alt="image-20240422150133906" tabindex="0" loading="lazy"><figcaption>image-20240422150133906</figcaption></figure>
<p>拖拽控件添加代码。</p>
<figure><img src="@source/5.开发方向/3.桌面开发/QtCpp/assets/image-20240422150638561.png" alt="image-20240422150638561" tabindex="0" loading="lazy"><figcaption>image-20240422150638561</figcaption></figure>
<figure><img src="@source/5.开发方向/3.桌面开发/QtCpp/assets/image-20240422151125817.png" alt="image-20240422151125817" tabindex="0" loading="lazy"><figcaption>image-20240422151125817</figcaption></figure>
<h4 id="_1-2-2-2-使用代码编辑器来实现" tabindex="-1"><a class="header-anchor" href="#_1-2-2-2-使用代码编辑器来实现"><span>1.2.2.2.使用代码编辑器来实现</span></a></h4>
<p>重新建立一个 <code v-pre>QWidget</code> 的项目，然后直接在 <code v-pre>widget.cpp</code> 中进行修改即可。</p>
<div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code class="language-cpp"><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">#</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">include</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">widget.h</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">#</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">include</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">ui_widget.h</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">#</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">include</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> &#x3C;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">QLineEdit</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">Widget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">::</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">Widget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">QWidget </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">parent</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    : </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">QWidget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">parent</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    ,</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> ui</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">new</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> Ui</span><span style="--shiki-light:#999999;--shiki-dark:#666666">::</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">Widget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">{</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">    ui</span><span style="--shiki-light:#999999;--shiki-dark:#666666">-></span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">setupUi</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076">this</span><span style="--shiki-light:#999999;--shiki-dark:#666666">);</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    QLineEdit</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> edit </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> new</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> QLineEdit</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076">this</span><span style="--shiki-light:#999999;--shiki-dark:#666666">);</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">    edit</span><span style="--shiki-light:#999999;--shiki-dark:#666666">-></span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">setText</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">Hello Word</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#999999;--shiki-dark:#666666">);</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">Widget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">::</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">~</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">Widget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">()</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">{</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    delete</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> ui</span><span style="--shiki-light:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-2-3-使用按钮" tabindex="-1"><a class="header-anchor" href="#_1-2-3-使用按钮"><span>1.2.3.使用按钮</span></a></h3>
<h4 id="_1-2-3-1-使用界面编辑来实现" tabindex="-1"><a class="header-anchor" href="#_1-2-3-1-使用界面编辑来实现"><span>1.2.3.1.使用界面编辑来实现</span></a></h4>
<p>重新建立一个 <code v-pre>QWidget</code> 的项目，然后直接使用界面添加按钮。</p>
<figure><img src="@source/5.开发方向/3.桌面开发/QtCpp/assets/image-20240422152750924.png" alt="image-20240422152750924" tabindex="0" loading="lazy"><figcaption>image-20240422152750924</figcaption></figure>
<p>然后使用少量的代码给按钮添加事件。</p>
<div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code class="language-cpp"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">//widget.h</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">#</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">ifndef</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> WIDGET_H</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">#</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">define</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> WIDGET_H</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">#</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">include</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> &#x3C;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">QWidget</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">QT_BEGIN_NAMESPACE</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">namespace</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> Ui</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> {</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> class</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994"> Widget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">;</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> }</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">QT_END_NAMESPACE</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">class</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994"> Widget</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> :</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> public</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994"> QWidget</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">{</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    Q_OBJECT</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">public</span><span style="--shiki-light:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">    Widget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994">QWidget</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> *</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">parent</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> =</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375"> nullptr</span><span style="--shiki-light:#999999;--shiki-dark:#666666">);</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">    ~Widget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">();</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    void</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> handleClick</span><span style="--shiki-light:#999999;--shiki-dark:#666666">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">private</span><span style="--shiki-light:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">    Ui</span><span style="--shiki-light:#999999;--shiki-dark:#666666">::</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">Widget </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">ui</span><span style="--shiki-light:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">};</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">#</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">endif</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> // WIDGET_H</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code class="language-cpp"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">//widget.cpp</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">#</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">include</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">widget.h</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">#</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">include</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">ui_widget.h</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">Widget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">::</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">Widget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">QWidget </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">parent</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    : </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">QWidget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">parent</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    ,</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> ui</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">new</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> Ui</span><span style="--shiki-light:#999999;--shiki-dark:#666666">::</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">Widget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">{</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">    ui</span><span style="--shiki-light:#999999;--shiki-dark:#666666">-></span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">setupUi</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076">this</span><span style="--shiki-light:#999999;--shiki-dark:#666666">);</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">    connect</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">        ui</span><span style="--shiki-light:#999999;--shiki-dark:#666666">-></span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">pushButton</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> //绑定给 UI 中的 objectName=pushButton 按钮</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">        &#x26;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">QPushButton</span><span style="--shiki-light:#999999;--shiki-dark:#666666">::</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">clicked</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> //点击按钮时触发的信号</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076">        this</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> //关联到具体的槽函数</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">        &#x26;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">Widget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">::</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">handleClick</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> //处理信号的回调函数</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    );</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">    //注意函数和 Linux 中的 TCP 套接字编程无关, 涉及到 Qt 信号槽问题, 作用是连接信号和槽</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">Widget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">::</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">~</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">Widget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">()</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">{</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    delete</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> ui</span><span style="--shiki-light:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">void</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> Widget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">::</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">handleClick</span><span style="--shiki-light:#999999;--shiki-dark:#666666">()</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">{</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">    if</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">ui</span><span style="--shiki-light:#999999;--shiki-dark:#666666">-></span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">pushButton</span><span style="--shiki-light:#999999;--shiki-dark:#666666">-></span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">text</span><span style="--shiki-light:#999999;--shiki-dark:#666666">()</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> !=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">Hello World</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">        ui</span><span style="--shiki-light:#999999;--shiki-dark:#666666">-></span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">pushButton</span><span style="--shiki-light:#999999;--shiki-dark:#666666">-></span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">setText</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">Hello World</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#999999;--shiki-dark:#666666">);</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    }</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">    else</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">        ui</span><span style="--shiki-light:#999999;--shiki-dark:#666666">-></span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">pushButton</span><span style="--shiki-light:#999999;--shiki-dark:#666666">-></span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">setText</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">button</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#999999;--shiki-dark:#666666">);</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="@source/5.开发方向/3.桌面开发/QtCpp/assets/image-20240422155740506.png" alt="image-20240422155740506" tabindex="0" loading="lazy"><figcaption>image-20240422155740506</figcaption></figure>
<figure><img src="@source/5.开发方向/3.桌面开发/QtCpp/assets/image-20240422155752712.png" alt="image-20240422155752712" tabindex="0" loading="lazy"><figcaption>image-20240422155752712</figcaption></figure>
<h4 id="_1-2-3-2-使用代码编辑器来实现" tabindex="-1"><a class="header-anchor" href="#_1-2-3-2-使用代码编辑器来实现"><span>1.2.3.2.使用代码编辑器来实现</span></a></h4>
<div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code class="language-cpp"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">//widget.h</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">#</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">ifndef</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> WIDGET_H</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">#</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">define</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> WIDGET_H</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">#</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">include</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> &#x3C;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">QWidget</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">></span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">#</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">include</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> &#x3C;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">QPushButton</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">QT_BEGIN_NAMESPACE</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">namespace</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> Ui</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> {</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> class</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994"> Widget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">;</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> }</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">QT_END_NAMESPACE</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">class</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994"> Widget</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> :</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> public</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994"> QWidget</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">{</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    Q_OBJECT</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">public</span><span style="--shiki-light:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">    Widget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994">QWidget</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> *</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">parent</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> =</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375"> nullptr</span><span style="--shiki-light:#999999;--shiki-dark:#666666">);</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">    ~Widget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">();</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    void</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> handleClick</span><span style="--shiki-light:#999999;--shiki-dark:#666666">();</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> //信号处理回调方法</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">private</span><span style="--shiki-light:#999999;--shiki-dark:#666666">:</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">    Ui</span><span style="--shiki-light:#999999;--shiki-dark:#666666">::</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">Widget </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">ui</span><span style="--shiki-light:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    QPushButton</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> _myButton</span><span style="--shiki-light:#999999;--shiki-dark:#666666">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> //设置一个成员变量, 否则回调函数无法使用获取到的按钮</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">};</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">#</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">endif</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> // WIDGET_H</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code class="language-cpp"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">//widget.hpp</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">#</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">include</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">widget.h</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">#</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">include</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">ui_widget.h</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">#</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">include</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> &#x3C;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">QPushButton</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">Widget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">::</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">Widget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">QWidget </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">parent</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    : </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">QWidget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">parent</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    ,</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> ui</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">new</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> Ui</span><span style="--shiki-light:#999999;--shiki-dark:#666666">::</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">Widget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">{</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">    ui</span><span style="--shiki-light:#999999;--shiki-dark:#666666">-></span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">setupUi</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076">this</span><span style="--shiki-light:#999999;--shiki-dark:#666666">);</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    QPushButton</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> myButton </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> new</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> QPushButton</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076">this</span><span style="--shiki-light:#999999;--shiki-dark:#666666">);</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">    myButton</span><span style="--shiki-light:#999999;--shiki-dark:#666666">-></span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">setText</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">button</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#999999;--shiki-dark:#666666">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">    connect</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        myButton</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> //绑定给 UI 中的 objectName=pushButton 按钮</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">        &#x26;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">QPushButton</span><span style="--shiki-light:#999999;--shiki-dark:#666666">::</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">clicked</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> //点击按钮时触发的信号</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076">        this</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> //关联到具体的槽函数</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">        &#x26;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">Widget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">::</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">handleClick</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"> //处理信号的回调函数</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">        );</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">    //注意函数和 Linux 中的 TCP 套接字编程无关, 涉及到 Qt 信号槽问题, 作用是连接信号和槽</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    _myButton </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> myButton</span><span style="--shiki-light:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">Widget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">::</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">~</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">Widget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">()</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">{</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">    delete</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> ui</span><span style="--shiki-light:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">void</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> Widget</span><span style="--shiki-light:#999999;--shiki-dark:#666666">::</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">handleClick</span><span style="--shiki-light:#999999;--shiki-dark:#666666">()</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">{</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">    if</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">_myButton</span><span style="--shiki-light:#999999;--shiki-dark:#666666">-></span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">text</span><span style="--shiki-light:#999999;--shiki-dark:#666666">()</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> !=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">Hello World</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">        _myButton</span><span style="--shiki-light:#999999;--shiki-dark:#666666">-></span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">setText</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">Hello World</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#999999;--shiki-dark:#666666">);</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    }</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">    else</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A">        _myButton</span><span style="--shiki-light:#999999;--shiki-dark:#666666">-></span><span style="--shiki-light:#59873A;--shiki-dark:#80A665">setText</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">button</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#999999;--shiki-dark:#666666">);</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">    }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="@source/5.开发方向/3.桌面开发/QtCpp/assets/image-20240422162724232.png" alt="image-20240422162724232" tabindex="0" loading="lazy"><figcaption>image-20240422162724232</figcaption></figure>
<figure><img src="@source/5.开发方向/3.桌面开发/QtCpp/assets/image-20240422162734376.png" alt="image-20240422162734376" tabindex="0" loading="lazy"><figcaption>image-20240422162734376</figcaption></figure>
<h1 id="_2-关于对象树" tabindex="-1"><a class="header-anchor" href="#_2-关于对象树"><span>2.关于对象树</span></a></h1>
<p>我们再创建一个类，尝试感受一下对象树的作用。</p>
<figure><img src="@source/5.开发方向/3.桌面开发/QtCpp/assets/image-20240421002242717.png" alt="image-20240421002242717" tabindex="0" loading="lazy"><figcaption>image-20240421002242717</figcaption></figure>
<figure><img src="@source/5.开发方向/3.桌面开发/QtCpp/assets/image-20240421002427326.png" alt="image-20240421002427326" tabindex="0" loading="lazy"><figcaption>image-20240421002427326</figcaption></figure>
<figure><img src="@source/5.开发方向/3.桌面开发/QtCpp/assets/image-20240421002443016.png" alt="image-20240421002443016" tabindex="0" loading="lazy"><figcaption>image-20240421002443016</figcaption></figure>
<figure><img src="@source/5.开发方向/3.桌面开发/QtCpp/assets/image-20240421002638076.png" alt="image-20240421002638076" tabindex="0" loading="lazy"><figcaption>image-20240421002638076</figcaption></figure>
<p>我们手动导入一下头文件。</p>
<figure><img src="@source/5.开发方向/3.桌面开发/QtCpp/assets/image-20240421002959577.png" alt="image-20240421002959577" tabindex="0" loading="lazy"><figcaption>image-20240421002959577</figcaption></figure>
<p>然后按 <code v-pre>F4</code> 跳转对应的 <code v-pre>.cpp</code> 实现。</p>
<figure><img src="@source/5.开发方向/3.桌面开发/QtCpp/assets/image-20240421004728471.png" alt="image-20240421004728471" tabindex="0" loading="lazy"><figcaption>image-20240421004728471</figcaption></figure>
<p>再实现一下析构函数。</p>
<figure><img src="@source/5.开发方向/3.桌面开发/QtCpp/assets/image-20240421004753239.png" alt="image-20240421004753239" tabindex="0" loading="lazy"><figcaption>image-20240421004753239</figcaption></figure>
<figure><img src="@source/5.开发方向/3.桌面开发/QtCpp/assets/image-20240421004800080.png" alt="image-20240421004800080" tabindex="0" loading="lazy"><figcaption>image-20240421004800080</figcaption></figure>
<p>然后在 <code v-pre>widget.cpp</code> 中创建该控件，并且指定父对象。</p>
<figure><img src="@source/5.开发方向/3.桌面开发/QtCpp/assets/image-20240421005443524.png" alt="image-20240421005443524" tabindex="0" loading="lazy"><figcaption>image-20240421005443524</figcaption></figure>
<figure><img src="@source/5.开发方向/3.桌面开发/QtCpp/assets/image-20240421005455315.png" alt="image-20240421005455315" tabindex="0" loading="lazy"><figcaption>image-20240421005455315</figcaption></figure>
<blockquote>
<p>补充：两种方式创建的代码难分主次，如果界面比较固定，就大多使用图形化界面，生成。但如果时非常动态的界面，最好还是直接使用代码。当然，也可以选择先使用图形化界面搭建框架再使用代码结合使用。</p>
</blockquote>
<h1 id="_3-乱码问题的解决" tabindex="-1"><a class="header-anchor" href="#_3-乱码问题的解决"><span>3.乱码问题的解决</span></a></h1>
<p>如果使用的时候输出台出现乱码问题，可以通过记事本修改文件的编码格式来解决，当前（2024-4-22）表示中使用亚洲汉字最常用的还是 <code v-pre>utf8</code> 编码。但是我们还有一些其他的方案：</p>
<ul>
<li>不直接使用 <code v-pre>String</code> 而使用 <code v-pre>QString</code></li>
<li>不直接使用 <code v-pre>cout</code>，而使用 <code v-pre>Qt</code> 专用的日志工具 <code v-pre>qDebug()</code></li>
</ul>
<div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code class="language-cpp"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD">//使用 qDebug()</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">#</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">include</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> &#x3C;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">QDebug</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">></span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">int</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> main</span><span style="--shiki-light:#999999;--shiki-dark:#666666">()</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">{</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665">    qDebug</span><span style="--shiki-light:#999999;--shiki-dark:#666666">()</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676"> &#x3C;&#x3C;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77"> "</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D">debug</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77">"</span><span style="--shiki-light:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">    return</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91"> 0</span><span style="--shiki-light:#999999;--shiki-dark:#666666">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在 <code v-pre>Qt</code> 中，您可以使用<code v-pre>qDebug()</code>输出调试信息，但是它默认是不会在发布版本中输出的。在发布版本中，调试输出会被忽略。所以，您不需要特别去关闭它。</p>
<h1 id="_4-qt-命名规则" tabindex="-1"><a class="header-anchor" href="#_4-qt-命名规则"><span>4.Qt 命名规则</span></a></h1>
<p>如果您苦于命名规则的设定，不如跟随 <code v-pre>Qt</code> 进行驼峰命名法（内部代码实现大部分使用驼峰法），小驼峰给变量起名字，大驼峰给函数、类中起名。</p>
<blockquote>
<p>吐槽：驼峰命名实际上会更加常用...</p>
</blockquote>
<h1 id="_5-qt-creator-快捷键" tabindex="-1"><a class="header-anchor" href="#_5-qt-creator-快捷键"><span>5.Qt Creator 快捷键</span></a></h1>
<ul>
<li>[ctrl+r] 运行</li>
<li>[ctrl+b] 编译</li>
<li>[ctrl+滚轮] 字体缩放</li>
<li>[ctrl+f] 查询</li>
<li>[ctrl+shift+↑/↓] 移动剪切代码行</li>
<li>[选中文本+F1] 帮助文档</li>
<li>[ctrl+i] 自动对齐</li>
<li>[F4] .h 和 .cpp 文件之间快速切换</li>
<li>[alt+enter] 快速生成函数声明对应的函数定义</li>
</ul>
<p>这些快捷键多用就行。</p>
<h1 id="_6-qt-的-vim-编辑器" tabindex="-1"><a class="header-anchor" href="#_6-qt-的-vim-编辑器"><span>6.Qt 的 Vim 编辑器</span></a></h1>
<figure><img src="@source/5.开发方向/3.桌面开发/QtCpp/assets/image-20240505215901538.png" alt="image-20240505215901538" tabindex="0" loading="lazy"><figcaption>image-20240505215901538</figcaption></figure>
</div></template>


