# 你的域名/服务器IP（无域名直接写IP，如 123.45.67.89）
:3000 {
    # 关键：指向VuePress静态文件的存放目录（上传文件的目录）
    root * /etc/caddy/dist
    # 启用文件浏览（可选，方便排查文件是否存在）
    file_server
    
    # 解决VuePress刷新页面404（核心路由配置）
    try_files {path} {path}/ /index.html
    
    # 优化静态资源加载（解决样式加载慢/缓存问题）
    header /* {
        # 静态资源缓存7天，提升访问速度
        Cache-Control "public, max-age=604800"
        # 允许跨域（避免资源加载跨域报错）
        Access-Control-Allow-Origin *
    }
    
    # 单独配置CSS/JS/图片的缓存（优先级更高）
    header *.css Cache-Control "public, max-age=604800"
    header *.js Cache-Control "public, max-age=604800"
    header *.png Cache-Control "public, max-age=2592000"
}